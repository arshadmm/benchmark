========================================================================== test session starts ==========================================================================
platform win32 -- Python 3.7.4, pytest-5.2.4, py-1.8.0, pluggy-0.13.0 -- c:\users\m\env3\scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\M\cm\cloudmesh-cloud, inifile: pytest.ini
collecting ... Test run for azure
collected 2 items

cloudmesh-cloud\tests\cloud\test_00_sys.py::Test_Sys::test_cms_help
[35m
# ######################################################################
# test_cms_help \cloudmesh-cloud\tests\cloud\test_00_sys.py 30
# ######################################################################
[0m
[34m
# ----------------------------------------------------------------------
# result
# ----------------------------------------------------------------------
# 36:test_cms_help .\cloudmesh-cloud\tests\cloud\test_00_sys.py
# ----------------------------------------------------------------------
# ('Documented commands (type help <topic>):\r\n'
#  '========================================\r\n'
#  'EOF        data     host       man       quit      source     '
#  'var           \r\n'
#  'admin      debug    image      open      register  ssh        '
#  'vbox          \r\n'
#  'banner     default  info       pause     sec       start      '
#  'vcluster      \r\n'
#  'clear      echo     init       plugin    service   stop       '
#  'vdir          \r\n'
#  'commands   flavor   inventory  provider  set       stopwatch  '
#  'version       \r\n'
#  'config     group    ip         py        shell     storage    '
#  'vm            \r\n'
#  'container  help     key        q         sleep     sys        workflow_draft')
# ----------------------------------------------------------------------
[0m
PASSED
cloudmesh-cloud\tests\cloud\test_00_sys.py::Test_Sys::test_benchmark
+-------------------+-----------------------------------------------------------------------------------+
| Machine Attribute | Value                                                                             |
+-------------------+-----------------------------------------------------------------------------------+
| cpu_count         | 4                                                                                 |
| mac_version       |                                                                                   |
| machine           | ('AMD64',)                                                                        |
| mem_available     | 2.0 GiB                                                                           |
| mem_free          | 2.0 GiB                                                                           |
| mem_percent       | 74.9%                                                                             |
| mem_total         | 7.9 GiB                                                                           |
| mem_used          | 5.9 GiB                                                                           |
| node              | ('ONYX64',)                                                                       |
| platform          | Windows-10-10.0.18362-SP0                                                         |
| processor         | ('Intel64 Family 6 Model 61 Stepping 4, GenuineIntel',)                           |
| processors        | Windows                                                                           |
| python            | 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 19:29:22) [MSC v.1916 32 bit (Intel)] |
| release           | ('10',)                                                                           |
| sys               | win32                                                                             |
| system            | Windows                                                                           |
| user              |                                                                                   |
| version           | 10.0.18362                                                                        |
| win_version       | ('10', '10.0.18362', 'SP0', '')                                                   |
+-------------------+-----------------------------------------------------------------------------------+
+---------------------------+-------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| timer                     | time  | start               | tag   | node        | user | system  | mac_version | win_version                     |
+---------------------------+-------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| test_00_sys/test_cms_help | 6.435 | 2019-12-19 02:25:31 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| benchmark_start_stop      | 0.0   | 2019-12-19 02:25:37 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
+---------------------------+-------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+

csv,timer,time,starttag,node,user,system,mac_version,win_version
#csv,test_00_sys/test_cms_help,6.435,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,benchmark_start_stop,0.0,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')

PASSED

=========================================================================== 2 passed in 8.77s ===========================================================================

=========================================================================== test session starts ===========================================================================
platform win32 -- Python 3.7.4, pytest-5.2.4, py-1.8.0, pluggy-0.13.0 -- c:\users\m\env3\scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\M\cm\cloudmesh-cloud, inifile: pytest.ini
collecting ... Test run for azure
[34m
# ----------------------------------------------------------------------
# cre
# ----------------------------------------------------------------------
# 226:__init__ .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# {'AZURE_APPLICATION_ID': '********',
#  'AZURE_APPLICATION_ID2': 'TBD',
#  'AZURE_REGION': 'eastus',
#  'AZURE_SECRET_KEY': '********',
#  'AZURE_SECRET_KEY2': 'TBD',
#  'AZURE_SUBSCRIPTION_ID': '********',
#  'AZURE_SUBSCRIPTION_ID2': 'TBD',
#  'AZURE_TENANT_ID': '********',
#  'AZURE_TENANT_ID2': 'TBD'}
# ----------------------------------------------------------------------
[0m
collected 4 items

cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py::Test_Clean_Local_Remote::test_cms_init
[35m
# ######################################################################
# test_cms_init \cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py 36
# ######################################################################
[0m
MongoDB stop
server should be down...
MongoDB folder deleted
Set key
Config Security Initialization
MongoDB create
MongoDB create
INFO: Starting mongo without authentication ...
"C:\Users\M\.cloudmesh\mongo\bin\mongod"  --bind_ip 127.0.0.1 --dbpath "C:\Users\M\.cloudmesh\mongodb" --logpath "C:\Users\M\.cloudmesh\mongodb\log\mongod.log"
wscript.exe "C:\Users\M\.cloudmesh\mongodb/invisible.vbs" "C:\Users\M\.cloudmesh\mongodb/mongo_starter.bat"
mongod child process should be started successfully.
None
INFO: Creating admin user ...
Administrative user created.
INFO: Stopping the service ...
server should be down...
MongoDB start
"C:\Users\M\.cloudmesh\mongo\bin\mongod" --auth --bind_ip 127.0.0.1 --dbpath "C:\Users\M\.cloudmesh\mongodb" --logpath "C:\Users\M\.cloudmesh\mongodb\log\mongod.log"
wscript.exe "C:\Users\M\.cloudmesh\mongodb/invisible.vbs" "C:\Users\M\.cloudmesh\mongodb/mongo_starter.bat"
mongod child process should be started successfully.
None

Cloudmesh Database Update |################################| 7/7
+---------+-------+----------+-----------+-----------+
| Group   | Rule  | Protocol | Ports     | IP Range  |
+---------+-------+----------+-----------+-----------+
| default | ssh   | tcp      | 22:22     | 0.0.0.0/0 |
| default | icmp  | icmp     |           | 0.0.0.0/0 |
| default | http  | tcp      | 80:80     | 0.0.0.0/0 |
| default | https | tcp      | 443:443   | 0.0.0.0/0 |
| flask   | ssh   | tcp      | 22:22     | 0.0.0.0/0 |
| flask   | icmp  | icmp     |           | 0.0.0.0/0 |
| flask   | http  | tcp      | 80:80     | 0.0.0.0/0 |
| flask   | https | tcp      | 443:443   | 0.0.0.0/0 |
| flask   | flask | tcp      | 8000:8000 | 0.0.0.0/0 |
+---------+-------+----------+-----------+-----------+

Variables

    trace=True
    debug=True
    group=cloudmesh
    experiment=base
    cloud=azure
    cluster=clustera
    timer=False
    key=marshad
    refresh=False
    vm=marshad-vm-[8-11]
    verbose=10
    a.b=c
PASSED
cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py::Test_Clean_Local_Remote::test_delete_all_keys_from_cloud

# ######################################################################
# test_delete_all_keys_from_cloud \cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py 42
# ######################################################################

ERROR: Key list is not supported in Azure!
Please use

    cms key list

PASSED
cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py::Test_Clean_Local_Remote::test_delete_all_secgroups_from_cloud

# ######################################################################
# test_delete_all_secgroups_from_cloud \cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py 59
# ######################################################################

INFO: Local security groups:
INFO: {'description': 'Default security group', 'rules': ['ssh', 'icmp', 'http', 'https'], 'name': 'default', 'cm': {'kind': 'secgroup', 'name': 'default', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:27:56.160912', 'modified': '2019-12-19 02:27:56.160912'}}
INFO: {'description': 'Flask security group', 'rules': ['ssh', 'icmp', 'http', 'https', 'flask'], 'name': 'flask', 'cm': {'kind': 'secgroup', 'name': 'flask', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:27:56.200276', 'modified': '2019-12-19 02:27:56.200276'}}
INFO: Az security groups:
INFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/azure-vm-test-nsg', 'name': 'azure-vm-test-nsg', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352650>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352670>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352690>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063526B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063526D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063526F0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352730>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x06352770>], 'subnets': None, 'resource_guid': '5feda48d-d020-4961-95b8-fab0cb761ed7', 'provisioning_state': 'Succeeded', 'etag': 'W/"33c799f4-1dd4-4af9-93d3-2f5fc259d092"'}
INFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/default', 'name': 'default', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352790>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063527B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063527D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063527F0>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352810>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352830>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352850>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352870>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352890>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063528D0>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x06352910>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x06352930>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x06352950>], 'subnets': [<azure.mgmt.network.v2018_12_01.models.subnet_py3.Subnet object at 0x06352990>], 'resource_guid': '8b5e04b3-49e1-4ca8-aac9-f4402c4c0bfc', 'provisioning_state': 'Succeeded', 'etag': 'W/"007a81cc-10f7-41a8-b15a-6d1005394dc9"'}
INFO: Security group flask deleted from Az!
{'description': 'Flask security group', 'rules': ['ssh', 'icmp', 'http', 'https', 'flask'], 'name': 'flask', 'cm': {'kind': 'secgroup', 'name': 'flask', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:27:56.200276', 'modified': '2019-12-19 02:27:56.200276'}}
PASSED
cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py::Test_Clean_Local_Remote::test_benchmark
+-----------------------------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| timer                                                           | time   | start               | tag   | node        | user | system  | mac_version | win_version                     |
+-----------------------------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| test_01_clean_local_remote/test_cms_init                        | 40.308 | 2019-12-19 02:27:21 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_01_clean_local_remote/test_delete_all_keys_from_cloud      | 0.01   | 2019-12-19 02:28:02 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_01_clean_local_remote/test_delete_all_secgroups_from_cloud | 0.336  | 2019-12-19 02:28:03 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| benchmark_start_stop                                            | 0.0    | 2019-12-19 02:28:04 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
+-----------------------------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+

PASSED

============================================================================ warnings summary =============================================================================
tests/cloud/test_01_clean_local_remote.py::Test_Clean_Local_Remote::test_delete_all_secgroups_from_cloud
  C:\Users\M\cm\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:673: DeprecationWarning: count is deprecated. Use Collection.count_documents instead.
    if local_sec_group.count() == 0:

-- Docs: https://docs.pytest.org/en/latest/warnings.html
===================================================================== 4 passed, 1 warnings in 49.41s ======================================================================

=========================================================================== test session starts ===========================================================================
platform win32 -- Python 3.7.4, pytest-5.2.4, py-1.8.0, pluggy-0.13.0 -- c:\users\m\env3\scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\M\cm\cloudmesh-cloud, inifile: pytest.ini
collecting ... Test run for azure
[34m
# ----------------------------------------------------------------------
# cre
# ----------------------------------------------------------------------
# 226:__init__ .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# {'AZURE_APPLICATION_ID': '********',
#  'AZURE_APPLICATION_ID2': 'TBD',
#  'AZURE_REGION': 'eastus',
#  'AZURE_SECRET_KEY': '***',
#  'AZURE_SECRET_KEY2': 'TBD',
#  'AZURE_SUBSCRIPTION_ID': '********',
#  'AZURE_SUBSCRIPTION_ID2': 'TBD',
#  'AZURE_TENANT_ID': '********',
#  'AZURE_TENANT_ID2': 'TBD'}
# ----------------------------------------------------------------------
[0m
collected 4 items

cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py::Test_Clean_Local_Remote::test_cms_init
[35m
# ######################################################################
# test_cms_init \cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py 36
# ######################################################################
[0m
MongoDB stop
server should be down...
MongoDB folder deleted
Set key
Config Security Initialization
MongoDB create
MongoDB create
INFO: Starting mongo without authentication ...
"C:\Users\M\.cloudmesh\mongo\bin\mongod"  --bind_ip 127.0.0.1 --dbpath "C:\Users\M\.cloudmesh\mongodb" --logpath "C:\Users\M\.cloudmesh\mongodb\log\mongod.log"
wscript.exe "C:\Users\M\.cloudmesh\mongodb/invisible.vbs" "C:\Users\M\.cloudmesh\mongodb/mongo_starter.bat"
mongod child process should be started successfully.
None
INFO: Creating admin user ...
Administrative user created.
INFO: Stopping the service ...
server should be down...
MongoDB start
"C:\Users\M\.cloudmesh\mongo\bin\mongod" --auth --bind_ip 127.0.0.1 --dbpath "C:\Users\M\.cloudmesh\mongodb" --logpath "C:\Users\M\.cloudmesh\mongodb\log\mongod.log"
wscript.exe "C:\Users\M\.cloudmesh\mongodb/invisible.vbs" "C:\Users\M\.cloudmesh\mongodb/mongo_starter.bat"
mongod child process should be started successfully.
None

Cloudmesh Database Update |################################| 7/7
+---------+-------+----------+-----------+-----------+
| Group   | Rule  | Protocol | Ports     | IP Range  |
+---------+-------+----------+-----------+-----------+
| default | ssh   | tcp      | 22:22     | 0.0.0.0/0 |
| default | icmp  | icmp     |           | 0.0.0.0/0 |
| default | http  | tcp      | 80:80     | 0.0.0.0/0 |
| default | https | tcp      | 443:443   | 0.0.0.0/0 |
| flask   | ssh   | tcp      | 22:22     | 0.0.0.0/0 |
| flask   | icmp  | icmp     |           | 0.0.0.0/0 |
| flask   | http  | tcp      | 80:80     | 0.0.0.0/0 |
| flask   | https | tcp      | 443:443   | 0.0.0.0/0 |
| flask   | flask | tcp      | 8000:8000 | 0.0.0.0/0 |
+---------+-------+----------+-----------+-----------+

Variables

    trace=True
    debug=True
    group=cloudmesh
    experiment=base
    cloud=azure
    cluster=clustera
    timer=False
    key=marshad
    refresh=False
    vm=marshad-vm-[8-11]
    verbose=10
    a.b=c
PASSED
cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py::Test_Clean_Local_Remote::test_delete_all_keys_from_cloud

# ######################################################################
# test_delete_all_keys_from_cloud \cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py 42
# ######################################################################

ERROR: Key list is not supported in Azure!
Please use

    cms key list

PASSED
cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py::Test_Clean_Local_Remote::test_delete_all_secgroups_from_cloud

# ######################################################################
# test_delete_all_secgroups_from_cloud \cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py 59
# ######################################################################

INFO: Local security groups:
INFO: {'description': 'Default security group', 'rules': ['ssh', 'icmp', 'http', 'https'], 'name': 'default', 'cm': {'kind': 'secgroup', 'name': 'default', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:27:56.160912', 'modified': '2019-12-19 02:27:56.160912'}}
INFO: {'description': 'Flask security group', 'rules': ['ssh', 'icmp', 'http', 'https', 'flask'], 'name': 'flask', 'cm': {'kind': 'secgroup', 'name': 'flask', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:27:56.200276', 'modified': '2019-12-19 02:27:56.200276'}}
INFO: Az security groups:
INFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/azure-vm-test-nsg', 'name': 'azure-vm-test-nsg', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352650>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352670>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352690>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063526B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063526D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063526F0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352730>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x06352770>], 'subnets': None, 'resource_guid': '5feda48d-d020-4961-95b8-fab0cb761ed7', 'provisioning_state': 'Succeeded', 'etag': 'W/"33c799f4-1dd4-4af9-93d3-2f5fc259d092"'}
INFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/default', 'name': 'default', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352790>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063527B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063527D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063527F0>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352810>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352830>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352850>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352870>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06352890>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063528D0>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x06352910>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x06352930>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x06352950>], 'subnets': [<azure.mgmt.network.v2018_12_01.models.subnet_py3.Subnet object at 0x06352990>], 'resource_guid': '8b5e04b3-49e1-4ca8-aac9-f4402c4c0bfc', 'provisioning_state': 'Succeeded', 'etag': 'W/"007a81cc-10f7-41a8-b15a-6d1005394dc9"'}
INFO: Security group flask deleted from Az!
{'description': 'Flask security group', 'rules': ['ssh', 'icmp', 'http', 'https', 'flask'], 'name': 'flask', 'cm': {'kind': 'secgroup', 'name': 'flask', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:27:56.200276', 'modified': '2019-12-19 02:27:56.200276'}}
PASSED
cloudmesh-cloud\tests\cloud\test_01_clean_local_remote.py::Test_Clean_Local_Remote::test_benchmark
+-----------------------------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| timer                                                           | time   | start               | tag   | node        | user | system  | mac_version | win_version                     |
+-----------------------------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| test_01_clean_local_remote/test_cms_init                        | 40.308 | 2019-12-19 02:27:21 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_01_clean_local_remote/test_delete_all_keys_from_cloud      | 0.01   | 2019-12-19 02:28:02 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_01_clean_local_remote/test_delete_all_secgroups_from_cloud | 0.336  | 2019-12-19 02:28:03 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| benchmark_start_stop                                            | 0.0    | 2019-12-19 02:28:04 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
+-----------------------------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+

PASSED

============================================================================ warnings summary =============================================================================
tests/cloud/test_01_clean_local_remote.py::Test_Clean_Local_Remote::test_delete_all_secgroups_from_cloud
  C:\Users\M\cm\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:673: DeprecationWarning: count is deprecated. Use Collection.count_documents instead.
    if local_sec_group.count() == 0:

-- Docs: https://docs.pytest.org/en/latest/warnings.html
===================================================================== 4 passed, 1 warnings in 49.41s ======================================================================

(ENV3) C:\Users\M\cm>pytest -v --capture=no  cloudmesh-cloud/tests/cloud/test_02_key.py
=========================================================================== test session starts ===========================================================================
platform win32 -- Python 3.7.4, pytest-5.2.4, py-1.8.0, pluggy-0.13.0 -- c:\users\m\env3\scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\M\cm\cloudmesh-cloud, inifile: pytest.ini
collecting ... Test run for azure
[34m
# ----------------------------------------------------------------------
# cre
# ----------------------------------------------------------------------
# 226:__init__ .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# {'AZURE_APPLICATION_ID': '********',
#  'AZURE_APPLICATION_ID2': 'TBD',
#  'AZURE_REGION': 'eastus',
#  'AZURE_SECRET_KEY': '********',
#  'AZURE_SECRET_KEY2': 'TBD',
#  'AZURE_SUBSCRIPTION_ID': '********',
#  'AZURE_SUBSCRIPTION_ID2': 'TBD',
#  'AZURE_TENANT_ID': '********',
#  'AZURE_TENANT_ID2': 'TBD'}
# ----------------------------------------------------------------------
[0m
collected 7 items

cloudmesh-cloud\tests\cloud\test_02_key.py::Test_Key::test_cleanup
[35m
# ######################################################################
# test_cleanup \cloudmesh-cloud\tests\cloud\test_02_key.py 38
# ######################################################################
[0m
[31mERROR: Azure does not allow explicit key delete! Please use 'cms key' operations to delete keys from the local db![0m
PASSED
cloudmesh-cloud\tests\cloud\test_02_key.py::Test_Key::test_upload_key_to_database
[35m
# ######################################################################
# test_upload_key_to_database \cloudmesh-cloud\tests\cloud\test_02_key.py 46
# ######################################################################
[0m
<cloudmesh.key.Key.Key object at 0x06191ED0>
[KCloudmesh Database Update |################################| 1/1
PASSED
cloudmesh-cloud\tests\cloud\test_02_key.py::Test_Key::test_upload_key_to_cloud
[35m
# ######################################################################
# test_upload_key_to_cloud \cloudmesh-cloud\tests\cloud\test_02_key.py 57
# ######################################################################
[0m
{'_id': ObjectId('5dfae09722d636cdae28871a'),
 'cm': {'cloud': 'local',
        'collection': 'local-key',
        'created': '2019-12-19 02:29:43.461661',
        'kind': 'key',
        'modified': '2019-12-19 02:29:43.461661',
        'name': 'test-key'},
 'comment': 'm@ONYX64',
 'fingerprint': 'fc:c0:06:61:3e:42:ae:6c:4a:f8:7e:53:58:32:4f:a1',
 'key': 'AAAAB3NzaC1yc2EAAAADAQABAAABAQDWhpOnMannlZ4eKCQqeGxw9hAdiNrbUcjXQWl6hOtjlCd6F+v5+gSR1yywQAH7gCvIbkq+7zeB9dxQDLIKpvcIhchsc5nrhP6JVKByOUcVBIJsltyu+ghQgKDOdPshtVMb2sNHWKPPTU1rK7uE0H1ach9EvSQ+jKScptJ3xN3zOaYa/Fh+Tl7cae41itRYeSxuj3EnzmfNedA/i9WVNYkPPcklYx5QRjTjAd+iMOCa5fv2o/F7GW+raIe+rfh7zF7s1EUcK5YgLWb13rou3UecCh5x1Kgb0mVgqreuo100oN9cx5Z/FRi2GBt7ANKFQOpkPd5Ev88VmE2takMUdVu1',
 'location': {'private': 'C:\\Users\\M\\.ssh\\id_rsa',
              'public': 'C:\\Users\\M\\.ssh\\id_rsa.pub'},
 'name': 'test-key',
 'path': 'C:\\Users\\M\\.ssh\\id_rsa.pub',
 'profile': {'email': 'marshad@iu.edu',
             'firstname': 'Moeen',
             'github': 'arshadmm',
             'lastname': 'Arshad',
             'publickey': '~/.ssh/id_rsa.pub',
             'user': 'marshad'},
 'public_key': 'ssh-rsa '
               'AAAAB3NzaC1yc2EAAAADAQABAAABAQDWhpOnMannlZ4eKCQqeGxw9hAdiNrbUcjXQWl6hOtjlCd6F+v5+gSR1yywQAH7gCvIbkq+7zeB9dxQDLIKpvcIhchsc5nrhP6JVKByOUcVBIJsltyu+ghQgKDOdPshtVMb2sNHWKPPTU1rK7uE0H1ach9EvSQ+jKScptJ3xN3zOaYa/Fh+Tl7cae41itRYeSxuj3EnzmfNedA/i9WVNYkPPcklYx5QRjTjAd+iMOCa5fv2o/F7GW+raIe+rfh7zF7s1EUcK5YgLWb13rou3UecCh5x1Kgb0mVgqreuo100oN9cx5Z/FRi2GBt7ANKFQOpkPd5Ev88VmE2takMUdVu1 '
               'm@ONYX64',
 'source': 'ssh',
 'type': 'ssh-rsa',
 'uri': 'file://C:\\Users\\M\\.ssh\\id_rsa.pub'}
[31mERROR: Azure does not allow explicit key upload! Please use 'cms key' operations to add keys to the local db and reference them at the VM creation![0m
PASSED
cloudmesh-cloud\tests\cloud\test_02_key.py::Test_Key::test_list_key_from_cloud
[35m
# ######################################################################
# test_list_key_from_cloud \cloudmesh-cloud\tests\cloud\test_02_key.py 73
# ######################################################################
[0m
[31mERROR: Key list is not supported in Azure![0m
Please use

    cms key list

[34m
# ----------------------------------------------------------------------
# f"{cloud} does not support key list!"
# ----------------------------------------------------------------------
# 80:test_list_key_from_cloud .\cloudmesh-cloud\tests\cloud\test_02_key.py
# ----------------------------------------------------------------------
# 'azure does not support key list!'
# ----------------------------------------------------------------------
[0m
PASSED
cloudmesh-cloud\tests\cloud\test_02_key.py::Test_Key::test_delete_key_from_cloud
[35m
# ######################################################################
# test_delete_key_from_cloud \cloudmesh-cloud\tests\cloud\test_02_key.py 91
# ######################################################################
[0m
[31mERROR: Azure does not allow explicit key delete! Please use 'cms key' operations to delete keys from the local db![0m
None
PASSED
cloudmesh-cloud\tests\cloud\test_02_key.py::Test_Key::test_get_key_from_cloud
[35m
# ######################################################################
# test_get_key_from_cloud \cloudmesh-cloud\tests\cloud\test_02_key.py 101
# ######################################################################
[0m
PASSED
cloudmesh-cloud\tests\cloud\test_02_key.py::Test_Key::test_benchmark
+-----------------------------------------+-------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| timer                                   | time  | start               | tag   | node        | user | system  | mac_version | win_version                     |
+-----------------------------------------+-------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| test_02_key/test_upload_key_to_database | 0.562 | 2019-12-19 02:29:42 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_02_key/test_upload_key_to_cloud    | 0.016 | 2019-12-19 02:29:45 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_02_key/test_list_key_from_cloud    | 0.019 | 2019-12-19 02:29:45 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_02_key/test_delete_key_from_cloud  | 0.016 | 2019-12-19 02:29:45 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| benchmark_start_stop                    | 0.0   | 2019-12-19 02:29:45 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
+-----------------------------------------+-------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+

csv,timer,time,starttag,node,user,system,mac_version,win_version
#csv,test_02_key/test_upload_key_to_database,0.562,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_02_key/test_upload_key_to_cloud,0.016,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_02_key/test_list_key_from_cloud,0.019,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_02_key/test_delete_key_from_cloud,0.016,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,benchmark_start_stop,0.0,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')

PASSED

=========================================================================== 7 passed in 11.72s ============================================================================

=========================================================================== test session starts ===========================================================================
platform win32 -- Python 3.7.4, pytest-5.2.4, py-1.8.0, pluggy-0.13.0 -- c:\users\m\env3\scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\M\cm\cloudmesh-cloud, inifile: pytest.ini
collecting ... Test run for azure
[34m
# ----------------------------------------------------------------------
# cre
# ----------------------------------------------------------------------
# 226:__init__ .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# {'AZURE_APPLICATION_ID': '********',
#  'AZURE_APPLICATION_ID2': 'TBD',
#  'AZURE_REGION': 'eastus',
#  'AZURE_SECRET_KEY': '*****',
#  'AZURE_SECRET_KEY2': 'TBD',
#  'AZURE_SUBSCRIPTION_ID': '********',
#  'AZURE_SUBSCRIPTION_ID2': 'TBD',
#  'AZURE_TENANT_ID': '********',
#  'AZURE_TENANT_ID2': 'TBD'}
# ----------------------------------------------------------------------
[0m
collected 6 items

cloudmesh-cloud\tests\cloud\test_05_image.py::Test_Image::test_empty_database
[35m
# ######################################################################
# test_empty_database \cloudmesh-cloud\tests\cloud\test_05_image.py 37
# ######################################################################
[0m
PASSED
cloudmesh-cloud\tests\cloud\test_05_image.py::Test_Image::test_provider_image
[35m
# ######################################################################
# test_provider_image \cloudmesh-cloud\tests\cloud\test_05_image.py 43
# ######################################################################
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# ('PUBLISHER: 128technology, OFFER: 128t_networking_platform, SKU: '
#  '128t_networking_platform, VERSION: 1.0.0')
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# ('PUBLISHER: 128technology, OFFER: 128t_networking_platform, SKU: '
#  '128t_networking_platform, VERSION: 1.1.0')
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# ('PUBLISHER: 128technology, OFFER: 128t_networking_platform, SKU: '
#  '128t_networking_platform, VERSION: 1.1.2')
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'PUBLISHER: 1e, OFFER: tachyonv30-0-100, SKU: tachyonv4-1, VERSION: 4.10.11'
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'PUBLISHER: 2021ai, OFFER: grace-churn-vm, SKU: grace_vm, VERSION: 0.0.2'
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'PUBLISHER: 3cx-pbx, OFFER: 3cx-pbx, SKU: 16, VERSION: 16.0.8'
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'PUBLISHER: 4psa, OFFER: voipnow, SKU: vpn525-single, VERSION: 5.2.5'
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.929748',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:39.929748'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.929748',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:39.929748'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.986732',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.0',
#          'updated': '2019-12-19 02:36:39.986732'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.0',
#   'location': 'eastus',
#   'name': '1.1.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.929748',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:39.929748'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.986732',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.0',
#          'updated': '2019-12-19 02:36:39.986732'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.0',
#   'location': 'eastus',
#   'name': '1.1.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.047686',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.2',
#          'updated': '2019-12-19 02:36:40.047686'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.2',
#   'location': 'eastus',
#   'name': '1.1.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.929748',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:39.929748'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.986732',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.0',
#          'updated': '2019-12-19 02:36:39.986732'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.0',
#   'location': 'eastus',
#   'name': '1.1.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.047686',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.2',
#          'updated': '2019-12-19 02:36:40.047686'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.2',
#   'location': 'eastus',
#   'name': '1.1.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.097661',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '4.10.11',
#          'updated': '2019-12-19 02:36:40.097661'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/1e/ArtifactTypes/VMImage/Offers/tachyonv30-0-100/Skus/tachyonv4-1/Versions/4.10.11',
#   'location': 'eastus',
#   'name': '4.10.11',
#   'os_disk_image': {'operating_system': 'Windows'},
#   'plan': {'name': 'tachyonv4-1',
#            'product': 'tachyonv30-0-100',
#            'publisher': '1e'}}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.929748',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:39.929748'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.986732',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.0',
#          'updated': '2019-12-19 02:36:39.986732'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.0',
#   'location': 'eastus',
#   'name': '1.1.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.047686',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.2',
#          'updated': '2019-12-19 02:36:40.047686'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.2',
#   'location': 'eastus',
#   'name': '1.1.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.097661',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '4.10.11',
#          'updated': '2019-12-19 02:36:40.097661'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/1e/ArtifactTypes/VMImage/Offers/tachyonv30-0-100/Skus/tachyonv4-1/Versions/4.10.11',
#   'location': 'eastus',
#   'name': '4.10.11',
#   'os_disk_image': {'operating_system': 'Windows'},
#   'plan': {'name': 'tachyonv4-1',
#            'product': 'tachyonv30-0-100',
#            'publisher': '1e'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.149610',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '0.0.2',
#          'updated': '2019-12-19 02:36:40.149610'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/2021ai/ArtifactTypes/VMImage/Offers/grace-churn-vm/Skus/grace_vm/Versions/0.0.2',
#   'location': 'eastus',
#   'name': '0.0.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': 'grace_vm',
#            'product': 'grace-churn-vm',
#            'publisher': '2021ai'}}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.929748',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:39.929748'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.986732',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.0',
#          'updated': '2019-12-19 02:36:39.986732'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.0',
#   'location': 'eastus',
#   'name': '1.1.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.047686',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.2',
#          'updated': '2019-12-19 02:36:40.047686'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.2',
#   'location': 'eastus',
#   'name': '1.1.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.097661',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '4.10.11',
#          'updated': '2019-12-19 02:36:40.097661'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/1e/ArtifactTypes/VMImage/Offers/tachyonv30-0-100/Skus/tachyonv4-1/Versions/4.10.11',
#   'location': 'eastus',
#   'name': '4.10.11',
#   'os_disk_image': {'operating_system': 'Windows'},
#   'plan': {'name': 'tachyonv4-1',
#            'product': 'tachyonv30-0-100',
#            'publisher': '1e'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.149610',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '0.0.2',
#          'updated': '2019-12-19 02:36:40.149610'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/2021ai/ArtifactTypes/VMImage/Offers/grace-churn-vm/Skus/grace_vm/Versions/0.0.2',
#   'location': 'eastus',
#   'name': '0.0.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': 'grace_vm',
#            'product': 'grace-churn-vm',
#            'publisher': '2021ai'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.201302',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '16.0.8',
#          'updated': '2019-12-19 02:36:40.201302'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/3cx-pbx/ArtifactTypes/VMImage/Offers/3cx-pbx/Skus/16/Versions/16.0.8',
#   'location': 'eastus',
#   'name': '16.0.8',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '16', 'product': '3cx-pbx', 'publisher': '3cx-pbx'}}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.929748',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:39.929748'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:39.986732',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.0',
#          'updated': '2019-12-19 02:36:39.986732'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.0',
#   'location': 'eastus',
#   'name': '1.1.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.047686',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.2',
#          'updated': '2019-12-19 02:36:40.047686'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.2',
#   'location': 'eastus',
#   'name': '1.1.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.097661',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '4.10.11',
#          'updated': '2019-12-19 02:36:40.097661'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/1e/ArtifactTypes/VMImage/Offers/tachyonv30-0-100/Skus/tachyonv4-1/Versions/4.10.11',
#   'location': 'eastus',
#   'name': '4.10.11',
#   'os_disk_image': {'operating_system': 'Windows'},
#   'plan': {'name': 'tachyonv4-1',
#            'product': 'tachyonv30-0-100',
#            'publisher': '1e'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.149610',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '0.0.2',
#          'updated': '2019-12-19 02:36:40.149610'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/2021ai/ArtifactTypes/VMImage/Offers/grace-churn-vm/Skus/grace_vm/Versions/0.0.2',
#   'location': 'eastus',
#   'name': '0.0.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': 'grace_vm',
#            'product': 'grace-churn-vm',
#            'publisher': '2021ai'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.201302',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '16.0.8',
#          'updated': '2019-12-19 02:36:40.201302'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/3cx-pbx/ArtifactTypes/VMImage/Offers/3cx-pbx/Skus/16/Versions/16.0.8',
#   'location': 'eastus',
#   'name': '16.0.8',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '16', 'product': '3cx-pbx', 'publisher': '3cx-pbx'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:40.255287',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '5.2.5',
#          'updated': '2019-12-19 02:36:40.255287'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/4psa/ArtifactTypes/VMImage/Offers/voipnow/Skus/vpn525-single/Versions/5.2.5',
#   'location': 'eastus',
#   'name': '5.2.5',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': 'vpn525-single', 'product': 'voipnow', 'publisher': '4psa'}}]
# ----------------------------------------------------------------------
[0m
[KCloudmesh Database Update |################################| 7/7
PASSED
cloudmesh-cloud\tests\cloud\test_05_image.py::Test_Image::test_provider_image_update
[35m
# ######################################################################
# test_provider_image_update \cloudmesh-cloud\tests\cloud\test_05_image.py 50
# ######################################################################
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# ('PUBLISHER: 128technology, OFFER: 128t_networking_platform, SKU: '
#  '128t_networking_platform, VERSION: 1.0.0')
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# ('PUBLISHER: 128technology, OFFER: 128t_networking_platform, SKU: '
#  '128t_networking_platform, VERSION: 1.1.0')
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# ('PUBLISHER: 128technology, OFFER: 128t_networking_platform, SKU: '
#  '128t_networking_platform, VERSION: 1.1.2')
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'PUBLISHER: 1e, OFFER: tachyonv30-0-100, SKU: tachyonv4-1, VERSION: 4.10.11'
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'PUBLISHER: 2021ai, OFFER: grace-churn-vm, SKU: grace_vm, VERSION: 0.0.2'
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'PUBLISHER: 3cx-pbx, OFFER: 3cx-pbx, SKU: 16, VERSION: 16.0.8'
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# msg
# ----------------------------------------------------------------------
# 1442:images .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'PUBLISHER: 4psa, OFFER: voipnow, SKU: vpn525-single, VERSION: 5.2.5'
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.822755',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:47.822755'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.822755',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:47.822755'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.871838',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.0',
#          'updated': '2019-12-19 02:36:47.871838'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.0',
#   'location': 'eastus',
#   'name': '1.1.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.822755',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:47.822755'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.871838',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.0',
#          'updated': '2019-12-19 02:36:47.871838'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.0',
#   'location': 'eastus',
#   'name': '1.1.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.922309',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.2',
#          'updated': '2019-12-19 02:36:47.922309'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.2',
#   'location': 'eastus',
#   'name': '1.1.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.822755',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:47.822755'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.871838',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.0',
#          'updated': '2019-12-19 02:36:47.871838'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.0',
#   'location': 'eastus',
#   'name': '1.1.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.922309',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.2',
#          'updated': '2019-12-19 02:36:47.922309'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.2',
#   'location': 'eastus',
#   'name': '1.1.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:48.002261',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '4.10.11',
#          'updated': '2019-12-19 02:36:48.002261'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/1e/ArtifactTypes/VMImage/Offers/tachyonv30-0-100/Skus/tachyonv4-1/Versions/4.10.11',
#   'location': 'eastus',
#   'name': '4.10.11',
#   'os_disk_image': {'operating_system': 'Windows'},
#   'plan': {'name': 'tachyonv4-1',
#            'product': 'tachyonv30-0-100',
#            'publisher': '1e'}}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.822755',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:47.822755'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.871838',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.0',
#          'updated': '2019-12-19 02:36:47.871838'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.0',
#   'location': 'eastus',
#   'name': '1.1.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.922309',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.2',
#          'updated': '2019-12-19 02:36:47.922309'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.2',
#   'location': 'eastus',
#   'name': '1.1.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:48.002261',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '4.10.11',
#          'updated': '2019-12-19 02:36:48.002261'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/1e/ArtifactTypes/VMImage/Offers/tachyonv30-0-100/Skus/tachyonv4-1/Versions/4.10.11',
#   'location': 'eastus',
#   'name': '4.10.11',
#   'os_disk_image': {'operating_system': 'Windows'},
#   'plan': {'name': 'tachyonv4-1',
#            'product': 'tachyonv30-0-100',
#            'publisher': '1e'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:48.057229',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '0.0.2',
#          'updated': '2019-12-19 02:36:48.057229'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/2021ai/ArtifactTypes/VMImage/Offers/grace-churn-vm/Skus/grace_vm/Versions/0.0.2',
#   'location': 'eastus',
#   'name': '0.0.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': 'grace_vm',
#            'product': 'grace-churn-vm',
#            'publisher': '2021ai'}}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.822755',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:47.822755'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.871838',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.0',
#          'updated': '2019-12-19 02:36:47.871838'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.0',
#   'location': 'eastus',
#   'name': '1.1.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.922309',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.2',
#          'updated': '2019-12-19 02:36:47.922309'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.2',
#   'location': 'eastus',
#   'name': '1.1.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:48.002261',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '4.10.11',
#          'updated': '2019-12-19 02:36:48.002261'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/1e/ArtifactTypes/VMImage/Offers/tachyonv30-0-100/Skus/tachyonv4-1/Versions/4.10.11',
#   'location': 'eastus',
#   'name': '4.10.11',
#   'os_disk_image': {'operating_system': 'Windows'},
#   'plan': {'name': 'tachyonv4-1',
#            'product': 'tachyonv30-0-100',
#            'publisher': '1e'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:48.057229',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '0.0.2',
#          'updated': '2019-12-19 02:36:48.057229'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/2021ai/ArtifactTypes/VMImage/Offers/grace-churn-vm/Skus/grace_vm/Versions/0.0.2',
#   'location': 'eastus',
#   'name': '0.0.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': 'grace_vm',
#            'product': 'grace-churn-vm',
#            'publisher': '2021ai'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:48.110200',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '16.0.8',
#          'updated': '2019-12-19 02:36:48.110200'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/3cx-pbx/ArtifactTypes/VMImage/Offers/3cx-pbx/Skus/16/Versions/16.0.8',
#   'location': 'eastus',
#   'name': '16.0.8',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '16', 'product': '3cx-pbx', 'publisher': '3cx-pbx'}}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.822755',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.0.0',
#          'updated': '2019-12-19 02:36:47.822755'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.0.0',
#   'location': 'eastus',
#   'name': '1.0.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.871838',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.0',
#          'updated': '2019-12-19 02:36:47.871838'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.0',
#   'location': 'eastus',
#   'name': '1.1.0',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:47.922309',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '1.1.2',
#          'updated': '2019-12-19 02:36:47.922309'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/128technology/ArtifactTypes/VMImage/Offers/128t_networking_platform/Skus/128t_networking_platform/Versions/1.1.2',
#   'location': 'eastus',
#   'name': '1.1.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '128t_networking_platform',
#            'product': '128t_networking_platform',
#            'publisher': '128technology'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:48.002261',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '4.10.11',
#          'updated': '2019-12-19 02:36:48.002261'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/1e/ArtifactTypes/VMImage/Offers/tachyonv30-0-100/Skus/tachyonv4-1/Versions/4.10.11',
#   'location': 'eastus',
#   'name': '4.10.11',
#   'os_disk_image': {'operating_system': 'Windows'},
#   'plan': {'name': 'tachyonv4-1',
#            'product': 'tachyonv30-0-100',
#            'publisher': '1e'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:48.057229',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '0.0.2',
#          'updated': '2019-12-19 02:36:48.057229'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/2021ai/ArtifactTypes/VMImage/Offers/grace-churn-vm/Skus/grace_vm/Versions/0.0.2',
#   'location': 'eastus',
#   'name': '0.0.2',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': 'grace_vm',
#            'product': 'grace-churn-vm',
#            'publisher': '2021ai'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:48.110200',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '16.0.8',
#          'updated': '2019-12-19 02:36:48.110200'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/3cx-pbx/ArtifactTypes/VMImage/Offers/3cx-pbx/Skus/16/Versions/16.0.8',
#   'location': 'eastus',
#   'name': '16.0.8',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': '16', 'product': '3cx-pbx', 'publisher': '3cx-pbx'}},
#  {'automatic_os_upgrade_properties': {'automatic_os_upgrade_supported': False},
#   'cm': {'cloud': 'azure',
#          'created': '2019-12-19 02:36:48.191150',
#          'driver': 'azure',
#          'kind': 'image',
#          'name': '5.2.5',
#          'updated': '2019-12-19 02:36:48.191150'},
#   'data_disk_images': [],
#   'id': '/Subscriptions/*****/Providers/Microsoft.Compute/Locations/eastus/Publishers/4psa/ArtifactTypes/VMImage/Offers/voipnow/Skus/vpn525-single/Versions/5.2.5',
#   'location': 'eastus',
#   'name': '5.2.5',
#   'os_disk_image': {'operating_system': 'Linux'},
#   'plan': {'name': 'vpn525-single', 'product': 'voipnow', 'publisher': '4psa'}}]
# ----------------------------------------------------------------------
[0m
[KCloudmesh Database Update |################################| 7/7
PASSED
cloudmesh-cloud\tests\cloud\test_05_image.py::Test_Image::test_cms_image_refresh
[35m
# ######################################################################
# test_cms_image_refresh \cloudmesh-cloud\tests\cloud\test_05_image.py 59
# ######################################################################
[0m
Cloudmesh Database Update |################################| 7/7
PASSED
cloudmesh-cloud\tests\cloud\test_05_image.py::Test_Image::test_cms_image

# ######################################################################
# test_cms_image \cloudmesh-cloud\tests\cloud\test_05_image.py 67
# ######################################################################

PASSED
cloudmesh-cloud\tests\cloud\test_05_image.py::Test_Image::test_benchmark
+------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| timer                                    | time   | start               | tag   | node        | user | system  | mac_version | win_version                     |
+------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| test_05_image/test_empty_database        | 1.293  | 2019-12-19 02:36:28 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_05_image/test_provider_image        | 10.573 | 2019-12-19 02:36:30 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_05_image/test_provider_image_update | 7.951  | 2019-12-19 02:36:40 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_05_image/test_cms_image_refresh     | 16.905 | 2019-12-19 02:36:49 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_05_image/test_cms_image             | 9.986  | 2019-12-19 02:37:06 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| benchmark_start_stop                     | 0.0    | 2019-12-19 02:37:16 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
+------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+

csv,timer,time,starttag,node,user,system,mac_version,win_version
#csv,test_05_image/test_empty_database,1.293,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_05_image/test_provider_image,10.573,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_05_image/test_provider_image_update,7.951,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_05_image/test_cms_image_refresh,16.905,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_05_image/test_cms_image,9.986,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,benchmark_start_stop,0.0,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')

PASSED

=========================================================================== 6 passed in 54.21s ============================================================================

=========================================================================== 6 passed in 54.21s ============================================================================

(ENV3) C:\Users\M\cm>pytest -v --capture=no  cloudmesh-cloud/tests/cloud/test_06_sec_command.py
=========================================================================== test session starts ===========================================================================
platform win32 -- Python 3.7.4, pytest-5.2.4, py-1.8.0, pluggy-0.13.0 -- c:\users\m\env3\scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\M\cm\cloudmesh-cloud, inifile: pytest.ini
collecting ... [34m
# ----------------------------------------------------------------------
# cre
# ----------------------------------------------------------------------
# 226:__init__ .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# {'AZURE_APPLICATION_ID': '********',
#  'AZURE_APPLICATION_ID2': 'TBD',
#  'AZURE_REGION': 'eastus',
#  'AZURE_SECRET_KEY': '*****',
#  'AZURE_SECRET_KEY2': 'TBD',
#  'AZURE_SUBSCRIPTION_ID': '********',
#  'AZURE_SUBSCRIPTION_ID2': 'TBD',
#  'AZURE_TENANT_ID': '********',
#  'AZURE_TENANT_ID2': 'TBD'}
# ----------------------------------------------------------------------
[0m
collected 9 items

cloudmesh-cloud\tests\cloud\test_06_sec_command.py::TestSecCLI::test_sec_clear PASSED
cloudmesh-cloud\tests\cloud\test_06_sec_command.py::TestSecCLI::test_group_add
[35m
# ######################################################################
# test_group_add \cloudmesh-cloud\tests\cloud\test_06_sec_command.py 70
# ######################################################################
[0m

PASSED
cloudmesh-cloud\tests\cloud\test_06_sec_command.py::TestSecCLI::test_group_delete
[35m
# ######################################################################
# test_group_delete \cloudmesh-cloud\tests\cloud\test_06_sec_command.py 80
# ######################################################################
[0m

PASSED
cloudmesh-cloud\tests\cloud\test_06_sec_command.py::TestSecCLI::test_sec_init
[35m
# ######################################################################
# test_sec_init \cloudmesh-cloud\tests\cloud\test_06_sec_command.py 89
# ######################################################################
[0m

[KCloudmesh Database Update |################################| 7/7


PASSED
cloudmesh-cloud\tests\cloud\test_06_sec_command.py::TestSecCLI::test_sec_add_group_wrong
[35m
# ######################################################################
# test_sec_add_group_wrong \cloudmesh-cloud\tests\cloud\test_06_sec_command.py 108
# ######################################################################
[0m

# ----------------------------------------------------------------------
# cre
# ----------------------------------------------------------------------
# 226:__init__ .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# {'AZURE_APPLICATION_ID': '********',
#  'AZURE_APPLICATION_ID2': 'TBD',
#  'AZURE_REGION': 'eastus',
#  'AZURE_SECRET_KEY': '*****',
#  'AZURE_SECRET_KEY2': 'TBD',
#  'AZURE_SUBSCRIPTION_ID': '********',
#  'AZURE_SUBSCRIPTION_ID2': 'TBD',
#  'AZURE_TENANT_ID': '********',
#  'AZURE_TENANT_ID2': 'TBD'}
# ----------------------------------------------------------------------


PASSED
cloudmesh-cloud\tests\cloud\test_06_sec_command.py::TestSecCLI::test_sec_list
[35m
# ######################################################################
# test_sec_list \cloudmesh-cloud\tests\cloud\test_06_sec_command.py 116
# ######################################################################
[0m
+---------+-------------------------------+------------------------+
| Name    | Rules                         | Description            |
+---------+-------------------------------+------------------------+
| default | ssh, icmp, http, https        | Default security group |
| flask   | ssh, icmp, http, https, flask | Flask security group   |
| wrong   | nothing                       | wrong                  |
+---------+-------------------------------+------------------------+
+----------+----------+-----------+-----------+
| Name     | Protocol | Ports     | IP Range  |
+----------+----------+-----------+-----------+
| ssh      | tcp      | 22:22     | 0.0.0.0/0 |
| icmp     | icmp     |           | 0.0.0.0/0 |
| flask    | tcp      | 8000:8000 | 0.0.0.0/0 |
| http     | tcp      | 80:80     | 0.0.0.0/0 |
| https    | tcp      | 443:443   | 0.0.0.0/0 |
| deleteme | tcp      | 101:101   | 10.0.0.00 |
+----------+----------+-----------+-----------+

PASSED
cloudmesh-cloud\tests\cloud\test_06_sec_command.py::TestSecCLI::test_sec_group_list_local
[35m
# ######################################################################
# test_sec_group_list_local \cloudmesh-cloud\tests\cloud\test_06_sec_command.py 131
# ######################################################################
[0m
+---------+-------------------------------+------------------------+
| Name    | Rules                         | Description            |
+---------+-------------------------------+------------------------+
| default | ssh, icmp, http, https        | Default security group |
| flask   | ssh, icmp, http, https, flask | Flask security group   |
| wrong   | nothing                       | wrong                  |
+---------+-------------------------------+------------------------+

PASSED
cloudmesh-cloud\tests\cloud\test_06_sec_command.py::TestSecCLI::test_sec_group_list_cloud
[35m
# ######################################################################
# test_sec_group_list_cloud \cloudmesh-cloud\tests\cloud\test_06_sec_command.py 142
# ######################################################################
[0m
cloud azure

# ----------------------------------------------------------------------
# cre
# ----------------------------------------------------------------------
# 226:__init__ .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# {'AZURE_APPLICATION_ID': '********',
#  'AZURE_APPLICATION_ID2': 'TBD',
#  'AZURE_REGION': 'eastus',
#  'AZURE_SECRET_KEY': '*****',
#  'AZURE_SECRET_KEY2': 'TBD',
#  'AZURE_SUBSCRIPTION_ID': '********',
#  'AZURE_SUBSCRIPTION_ID2': 'TBD',
#  'AZURE_TENANT_ID': '********',
#  'AZURE_TENANT_ID2': 'TBD'}
# ----------------------------------------------------------------------

INFO: Local security groups:
INFO: {'description': 'Default security group', 'rules': ['ssh', 'icmp', 'http', 'https'], 'name': 'default', 'cm': {'kind': 'secgroup', 'name': 'default', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:41:59.715855', 'modified': '2019-12-19 02:41:59.715855'}}
INFO: {'description': 'Flask security group', 'rules': ['ssh', 'icmp', 'http', 'https', 'flask'], 'name': 'flask', 'cm': {'kind': 'secgroup', 'name': 'flask', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:41:59.718854', 'modified': '2019-12-19 02:41:59.718854'}}
INFO: {'description': 'wrong', 'rules': ['nothing'], 'name': 'wrong', 'cm': {'kind': 'secgroup', 'name': 'wrong', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:42:11.305159', 'modified': '2019-12-19 02:42:11.305159'}}
INFO: Az security groups:
INFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/azure-vm-test-nsg', 'name': 'azure-vm-test-nsg', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30770>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30790>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C307B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C307D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C307F0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30810>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30850>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x05C30890>], 'subnets': None, 'resource_guid': '5feda48d-d020-4961-95b8-fab0cb761ed7', 'provisioning_state': 'Succeeded', 'etag': 'W/"33c799f4-1dd4-4af9-93d3-2f5fc259d092"'}
INFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/default', 'name': 'default', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C308B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C308D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C308F0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30910>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30930>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30950>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30970>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30990>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C309B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C309F0>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x05C30A30>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x05C30A50>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x05C30A70>], 'subnets': [<azure.mgmt.network.v2018_12_01.models.subnet_py3.Subnet object at 0x05C30AB0>], 'resource_guid': '8b5e04b3-49e1-4ca8-aac9-f4402c4c0bfc', 'provisioning_state': 'Succeeded', 'etag': 'W/"007a81cc-10f7-41a8-b15a-6d1005394dc9"'}
INFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/wrong', 'name': 'wrong', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30830>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30AD0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30AF0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30B10>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30B30>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x05C30B70>], 'network_interfaces': None, 'subnets': None, 'resource_guid': 'f658a0f8-368a-4237-ada8-84ceeb08ae4c', 'provisioning_state': 'Succeeded', 'etag': 'W/"70129c06-da4d-4490-8558-5dc355df49f7"'}
ERROR: executing command 'sec group list --cloud=azure'
======================================================================
'security_group_rules'
'security_group_rules'
Traceback (most recent call last):
  File "C:\Users\M\cm\cloudmesh-cmd5\cloudmesh\shell\shell.py", line 985, in main
    stop = cmd.onecmd(command)
  File "C:\Users\M\cm\cloudmesh-cmd5\cloudmesh\shell\shell.py", line 375, in onecmd
    return func(arg)
  File "C:\Users\M\cm\cloudmesh-cmd5\cloudmesh\shell\command.py", line 104, in new
    func(instance, args, arguments)
  File "C:\Users\M\cm\cloudmesh-cloud\cloudmesh\sec\command\sec.py", line 232, in do_sec
    for rule in group['security_group_rules']:
KeyError: 'security_group_rules'

======================================================================

PASSED
cloudmesh-cloud\tests\cloud\test_06_sec_command.py::TestSecCLI::test_benchmark
+-----------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| timer                                         | time   | start               | tag   | node        | user | system  | mac_version | win_version                     |
+-----------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| test_06_sec_command/test_group_add            | 5.965  | 2019-12-19 02:41:45 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_06_sec_command/test_group_delete         | 5.611  | 2019-12-19 02:41:52 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_06_sec_command/test_sec_list             | 5.934  | 2019-12-19 02:42:27 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_06_sec_command/test_sec_group_list_local | 5.895  | 2019-12-19 02:42:34 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_06_sec_command/test_sec_group_list_cloud | 10.429 | 2019-12-19 02:42:40 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| benchmark_start_stop                          | 0.0    | 2019-12-19 02:42:51 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
+-----------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+

csv,timer,time,starttag,node,user,system,mac_version,win_version
#csv,test_06_sec_command/test_group_add,5.965,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_06_sec_command/test_group_delete,5.611,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_06_sec_command/test_sec_list,5.934,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_06_sec_command/test_sec_group_list_local,5.895,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_06_sec_command/test_sec_group_list_cloud,10.429,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,benchmark_start_stop,0.0,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')

PASSED

====================================================================== 9 passed in 74.37s (0:01:14) =======================================================================

=========================================================================== test session starts ===========================================================================
platform win32 -- Python 3.7.4, pytest-5.2.4, py-1.8.0, pluggy-0.13.0 -- c:\users\m\env3\scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\M\cm\cloudmesh-cloud, inifile: pytest.ini
collecting ... [34m
# ----------------------------------------------------------------------
# variables.dict()
# ----------------------------------------------------------------------
# 28:<module> .\cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py
# ----------------------------------------------------------------------
# {'a.b': 'c',
#  'cloud': 'azure',
#  'cluster': 'clustera',
#  'debug': 'True',
#  'experiment': 'base',
#  'group': 'cloudmesh',
#  'key': 'marshad-key',
#  'refresh': 'False',
#  'timer': 'False',
#  'trace': 'True',
#  'verbose': '10',
#  'vm': 'marshad-vm-[8-11]'}
# ----------------------------------------------------------------------
[0m
Test run for azure
[34m
# ----------------------------------------------------------------------
# cre
# ----------------------------------------------------------------------
# 226:__init__ .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# {'AZURE_APPLICATION_ID': '********',
#  'AZURE_APPLICATION_ID2': 'TBD',
#  'AZURE_REGION': 'eastus',
#  'AZURE_SECRET_KEY': '*****',
#  'AZURE_SECRET_KEY2': 'TBD',
#  'AZURE_SUBSCRIPTION_ID': '********',
#  'AZURE_SUBSCRIPTION_ID2': 'TBD',
#  'AZURE_TENANT_ID': '********',
#  'AZURE_TENANT_ID2': 'TBD'}
# ----------------------------------------------------------------------
[0m
collected 9 items

cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py::Test_secgroup_provider::test_load
[35m
# ######################################################################
# test_load \cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py 56
# ######################################################################
[0m

[KCloudmesh Database Update |################################| 7/7
PASSED
cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py::Test_secgroup_provider::test_list_variables
[35m
# ######################################################################
# test_list_variables \cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py 72
# ######################################################################
[0m
marshad
azure
PASSED
cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py::Test_secgroup_provider::test_list_secgroups
[35m
# ######################################################################
# test_list_secgroups \cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py 80
# ######################################################################
[0m
[34mINFO: Local security groups: [0m
[34mINFO: {'description': 'Default security group', 'rules': ['ssh', 'icmp', 'http', 'https'], 'name': 'default', 'cm': {'kind': 'secgroup', 'name': 'default', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:45:25.901634', 'modified': '2019-12-19 02:45:25.901634'}}[0m
[34mINFO: {'description': 'Flask security group', 'rules': ['ssh', 'icmp', 'http', 'https', 'flask'], 'name': 'flask', 'cm': {'kind': 'secgroup', 'name': 'flask', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:45:25.905625', 'modified': '2019-12-19 02:45:25.905625'}}[0m
[34mINFO: Az security groups: [0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/azure-vm-test-nsg', 'name': 'azure-vm-test-nsg', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BDD0>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BDF0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BE10>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BE30>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BE50>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06857750>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B230>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x0697B1F0>], 'subnets': None, 'resource_guid': '5feda48d-d020-4961-95b8-fab0cb761ed7', 'provisioning_state': 'Succeeded', 'etag': 'W/"33c799f4-1dd4-4af9-93d3-2f5fc259d092"'}[0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/default', 'name': 'default', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B150>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B170>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B190>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B0F0>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B110>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B130>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BDB0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BD90>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BD70>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BE90>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x0697BED0>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x0697BEF0>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x0697BF10>], 'subnets': [<azure.mgmt.network.v2018_12_01.models.subnet_py3.Subnet object at 0x0697BF50>], 'resource_guid': '8b5e04b3-49e1-4ca8-aac9-f4402c4c0bfc', 'provisioning_state': 'Succeeded', 'etag': 'W/"007a81cc-10f7-41a8-b15a-6d1005394dc9"'}[0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/wrong', 'name': 'wrong', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B210>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BF70>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BF90>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BFB0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BFD0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0698C030>], 'network_interfaces': None, 'subnets': None, 'resource_guid': 'f658a0f8-368a-4237-ada8-84ceeb08ae4c', 'provisioning_state': 'Succeeded', 'etag': 'W/"70129c06-da4d-4490-8558-5dc355df49f7"'}[0m
{
    "0": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-19 02:45:25.901634",
            "kind": "secgroup",
            "modified": "2019-12-19 02:45:25.901634",
            "name": "default"
        },
        "description": "Default security group",
        "name": "default",
        "rules": [
            "ssh",
            "icmp",
            "http",
            "https"
        ]
    },
    "1": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-19 02:45:25.905625",
            "kind": "secgroup",
            "modified": "2019-12-19 02:45:25.905625",
            "name": "flask"
        },
        "description": "Flask security group",
        "name": "flask",
        "rules": [
            "ssh",
            "icmp",
            "http",
            "https",
            "flask"
        ]
    }
}
PASSED
cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py::Test_secgroup_provider::test_list_secgroups_rules
[35m
# ######################################################################
# test_list_secgroups_rules \cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py 87
# ######################################################################
[0m
[34mINFO: local security rules for 'default': [{'protocol': 'tcp', 'ip_range': '0.0.0.0/0', 'ports': '22:22', 'name': 'ssh', 'cm': {'kind': 'secrule', 'name': 'ssh', 'cloud': 'local', 'collection': 'local-secrule', 'created': '2019-12-19 02:45:25.908623', 'modified': '2019-12-19 02:45:25.908623'}}, {'protocol': 'icmp', 'ip_range': '0.0.0.0/0', 'ports': '', 'name': 'icmp', 'cm': {'kind': 'secrule', 'name': 'icmp', 'cloud': 'local', 'collection': 'local-secrule', 'created': '2019-12-19 02:45:25.911622', 'modified': '2019-12-19 02:45:25.911622'}}, {'protocol': 'tcp', 'ip_range': '0.0.0.0/0', 'ports': '80:80', 'name': 'http', 'cm': {'kind': 'secrule', 'name': 'http', 'cloud': 'local', 'collection': 'local-secrule', 'created': '2019-12-19 02:45:25.918111', 'modified': '2019-12-19 02:45:25.918111'}}, {'protocol': 'tcp', 'ip_range': '0.0.0.0/0', 'ports': '443:443', 'name': 'https', 'cm': {'kind': 'secrule', 'name': 'https', 'cloud': 'local', 'collection': 'local-secrule', 'created': '2019-12-19 02:45:25.921088', 'modified': '2019-12-19 02:45:25.921088'}}][0m
[34mINFO: az security rules for 'default': [0m
[34mINFO: {'additional_properties': {'type': 'Microsoft.Network/networkSecurityGroups/securityRules'}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/default/securityRules/ssh', 'description': None, 'protocol': 'Tcp', 'source_port_range': '*', 'destination_port_range': '*', 'source_address_prefix': '*', 'source_address_prefixes': [], 'source_application_security_groups': None, 'destination_address_prefix': '*', 'destination_address_prefixes': [], 'destination_application_security_groups': None, 'source_port_ranges': [], 'destination_port_ranges': [], 'access': 'Allow', 'priority': 100, 'direction': 'Inbound', 'provisioning_state': 'Succeeded', 'name': 'ssh', 'etag': 'W/"007a81cc-10f7-41a8-b15a-6d1005394dc9"'}[0m
[34mINFO: {'additional_properties': {'type': 'Microsoft.Network/networkSecurityGroups/securityRules'}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/default/securityRules/icmp', 'description': None, 'protocol': 'Icmp', 'source_port_range': '*', 'destination_port_range': '*', 'source_address_prefix': '*', 'source_address_prefixes': [], 'source_application_security_groups': None, 'destination_address_prefix': '*', 'destination_address_prefixes': [], 'destination_application_security_groups': None, 'source_port_ranges': [], 'destination_port_ranges': [], 'access': 'Allow', 'priority': 101, 'direction': 'Inbound', 'provisioning_state': 'Succeeded', 'name': 'icmp', 'etag': 'W/"007a81cc-10f7-41a8-b15a-6d1005394dc9"'}[0m
[34mINFO: {'additional_properties': {'type': 'Microsoft.Network/networkSecurityGroups/securityRules'}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/default/securityRules/http', 'description': None, 'protocol': 'Tcp', 'source_port_range': '*', 'destination_port_range': '*', 'source_address_prefix': '*', 'source_address_prefixes': [], 'source_application_security_groups': None, 'destination_address_prefix': '*', 'destination_address_prefixes': [], 'destination_application_security_groups': None, 'source_port_ranges': [], 'destination_port_ranges': [], 'access': 'Allow', 'priority': 102, 'direction': 'Inbound', 'provisioning_state': 'Succeeded', 'name': 'http', 'etag': 'W/"007a81cc-10f7-41a8-b15a-6d1005394dc9"'}[0m
[34mINFO: {'additional_properties': {'type': 'Microsoft.Network/networkSecurityGroups/securityRules'}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/default/securityRules/https', 'description': None, 'protocol': 'Tcp', 'source_port_range': '*', 'destination_port_range': '*', 'source_address_prefix': '*', 'source_address_prefixes': [], 'source_application_security_groups': None, 'destination_address_prefix': '*', 'destination_address_prefixes': [], 'destination_application_security_groups': None, 'source_port_ranges': [], 'destination_port_ranges': [], 'access': 'Allow', 'priority': 103, 'direction': 'Inbound', 'provisioning_state': 'Succeeded', 'name': 'https', 'etag': 'W/"007a81cc-10f7-41a8-b15a-6d1005394dc9"'}[0m
None
PASSED
cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py::Test_secgroup_provider::test_secgroups_add
[35m
# ######################################################################
# test_secgroups_add \cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py 94
# ######################################################################
[0m
[35mWARNING: Test_Sec_Group sec group is not found! Created new group: {'description': None, 'rules': [], 'name': 'Test_Sec_Group', 'cm': {'kind': 'secgroup', 'name': 'Test_Sec_Group', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-18 21:45:29.670405', 'modified': '2019-12-18 21:45:29.670405'}, '_id': ObjectId('5dfae44a5456843e8abec22c')}[0m
[34mINFO: sec group created successfully![0m
[34mINFO: Local security groups: [0m
[34mINFO: {'description': 'Default security group', 'rules': ['ssh', 'icmp', 'http', 'https'], 'name': 'default', 'cm': {'kind': 'secgroup', 'name': 'default', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:45:25.901634', 'modified': '2019-12-19 02:45:25.901634'}}[0m
[34mINFO: {'description': 'Flask security group', 'rules': ['ssh', 'icmp', 'http', 'https', 'flask'], 'name': 'flask', 'cm': {'kind': 'secgroup', 'name': 'flask', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:45:25.905625', 'modified': '2019-12-19 02:45:25.905625'}}[0m
[34mINFO: {'description': None, 'rules': [], 'name': 'Test_Sec_Group', 'cm': {'kind': 'secgroup', 'name': 'Test_Sec_Group', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-18 21:45:29.670405', 'modified': '2019-12-18 21:45:29.670405'}}[0m
[34mINFO: Az security groups: [0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/azure-vm-test-nsg', 'name': 'azure-vm-test-nsg', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069812F0>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981B50>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981830>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981810>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981930>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981990>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981030>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x06981230>], 'subnets': None, 'resource_guid': '5feda48d-d020-4961-95b8-fab0cb761ed7', 'provisioning_state': 'Succeeded', 'etag': 'W/"33c799f4-1dd4-4af9-93d3-2f5fc259d092"'}[0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/default', 'name': 'default', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981210>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069811F0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069811D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069811B0>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981190>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981170>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981150>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981130>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981110>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069810D0>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x069818D0>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x06981890>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x069818B0>], 'subnets': [<azure.mgmt.network.v2018_12_01.models.subnet_py3.Subnet object at 0x069818F0>], 'resource_guid': '8b5e04b3-49e1-4ca8-aac9-f4402c4c0bfc', 'provisioning_state': 'Succeeded', 'etag': 'W/"007a81cc-10f7-41a8-b15a-6d1005394dc9"'}[0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/wrong', 'name': 'wrong', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981050>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981AB0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981A50>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981A90>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981A70>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06981B10>], 'network_interfaces': None, 'subnets': None, 'resource_guid': 'f658a0f8-368a-4237-ada8-84ceeb08ae4c', 'provisioning_state': 'Succeeded', 'etag': 'W/"70129c06-da4d-4490-8558-5dc355df49f7"'}[0m
{
    "0": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-19 02:45:25.901634",
            "kind": "secgroup",
            "modified": "2019-12-19 02:45:25.901634",
            "name": "default"
        },
        "description": "Default security group",
        "name": "default",
        "rules": [
            "ssh",
            "icmp",
            "http",
            "https"
        ]
    },
    "1": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-19 02:45:25.905625",
            "kind": "secgroup",
            "modified": "2019-12-19 02:45:25.905625",
            "name": "flask"
        },
        "description": "Flask security group",
        "name": "flask",
        "rules": [
            "ssh",
            "icmp",
            "http",
            "https",
            "flask"
        ]
    },
    "2": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-18 21:45:29.670405",
            "kind": "secgroup",
            "modified": "2019-12-18 21:45:29.670405",
            "name": "Test_Sec_Group"
        },
        "description": null,
        "name": "Test_Sec_Group",
        "rules": []
    }
}
PASSED
cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py::Test_secgroup_provider::test_upload_secgroup
[35m
# ######################################################################
# test_upload_secgroup \cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py 103
# ######################################################################
[0m
[34mINFO: Local security groups: [0m
[34mINFO: {'description': 'Default security group', 'rules': ['ssh', 'icmp', 'http', 'https'], 'name': 'default', 'cm': {'kind': 'secgroup', 'name': 'default', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:45:25.901634', 'modified': '2019-12-19 02:45:25.901634'}}[0m
[34mINFO: {'description': 'Flask security group', 'rules': ['ssh', 'icmp', 'http', 'https', 'flask'], 'name': 'flask', 'cm': {'kind': 'secgroup', 'name': 'flask', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:45:25.905625', 'modified': '2019-12-19 02:45:25.905625'}}[0m
[34mINFO: {'description': None, 'rules': [], 'name': 'Test_Sec_Group', 'cm': {'kind': 'secgroup', 'name': 'Test_Sec_Group', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-18 21:45:29.670405', 'modified': '2019-12-18 21:45:29.670405'}}[0m
[34mINFO: Az security groups: [0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/azure-vm-test-nsg', 'name': 'azure-vm-test-nsg', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069A1830>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069A1850>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069A1870>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069A1890>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069A18B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069A18D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069A1910>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x069A1950>], 'subnets': None, 'resource_guid': '5feda48d-d020-4961-95b8-fab0cb761ed7', 'provisioning_state': 'Succeeded', 'etag': 'W/"33c799f4-1dd4-4af9-93d3-2f5fc259d092"'}[0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/default', 'name': 'default', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069A1970>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069A1990>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069A19B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069A19D0>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069A19F0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699CA90>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699CA30>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C990>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C9B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C6B0>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x0699C050>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x0699C0B0>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x0699C030>], 'subnets': [<azure.mgmt.network.v2018_12_01.models.subnet_py3.Subnet object at 0x0699C110>], 'resource_guid': '8b5e04b3-49e1-4ca8-aac9-f4402c4c0bfc', 'provisioning_state': 'Succeeded', 'etag': 'W/"007a81cc-10f7-41a8-b15a-6d1005394dc9"'}[0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/Test_Sec_Group', 'name': 'Test_Sec_Group', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C070>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C190>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C090>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C0D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C1F0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C390>], 'network_interfaces': None, 'subnets': None, 'resource_guid': '9bf24e15-26b3-4fe2-950d-b190480b6a3e', 'provisioning_state': 'Succeeded', 'etag': 'W/"171ed815-a79a-405c-ba29-4fd957bca39f"'}[0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/wrong', 'name': 'wrong', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C210>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C230>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C1B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C250>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C310>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C3D0>], 'network_interfaces': None, 'subnets': None, 'resource_guid': 'f658a0f8-368a-4237-ada8-84ceeb08ae4c', 'provisioning_state': 'Succeeded', 'etag': 'W/"70129c06-da4d-4490-8558-5dc355df49f7"'}[0m
{
    "0": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-19 02:45:25.901634",
            "kind": "secgroup",
            "modified": "2019-12-19 02:45:25.901634",
            "name": "default"
        },
        "description": "Default security group",
        "name": "default",
        "rules": [
            "ssh",
            "icmp",
            "http",
            "https"
        ]
    },
    "1": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-19 02:45:25.905625",
            "kind": "secgroup",
            "modified": "2019-12-19 02:45:25.905625",
            "name": "flask"
        },
        "description": "Flask security group",
        "name": "flask",
        "rules": [
            "ssh",
            "icmp",
            "http",
            "https",
            "flask"
        ]
    },
    "2": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-18 21:45:29.670405",
            "kind": "secgroup",
            "modified": "2019-12-18 21:45:29.670405",
            "name": "Test_Sec_Group"
        },
        "description": null,
        "name": "Test_Sec_Group",
        "rules": []
    }
}
PASSED
cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py::Test_secgroup_provider::test_secgroups_delete
[35m
# ######################################################################
# test_secgroups_delete \cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py 112
# ######################################################################
[0m
[34mINFO: Security group Test_Sec_Group deleted from Az![0m
[34mINFO: Local security groups: [0m
[34mINFO: {'description': 'Default security group', 'rules': ['ssh', 'icmp', 'http', 'https'], 'name': 'default', 'cm': {'kind': 'secgroup', 'name': 'default', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:45:25.901634', 'modified': '2019-12-19 02:45:25.901634'}}[0m
[34mINFO: {'description': 'Flask security group', 'rules': ['ssh', 'icmp', 'http', 'https', 'flask'], 'name': 'flask', 'cm': {'kind': 'secgroup', 'name': 'flask', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:45:25.905625', 'modified': '2019-12-19 02:45:25.905625'}}[0m
[34mINFO: {'description': None, 'rules': [], 'name': 'Test_Sec_Group', 'cm': {'kind': 'secgroup', 'name': 'Test_Sec_Group', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-18 21:45:29.670405', 'modified': '2019-12-18 21:45:29.670405'}}[0m
[34mINFO: Az security groups: [0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/azure-vm-test-nsg', 'name': 'azure-vm-test-nsg', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BCF0>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B8F0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B910>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BE10>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B0F0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B5D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BB50>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x0697B1D0>], 'subnets': None, 'resource_guid': '5feda48d-d020-4961-95b8-fab0cb761ed7', 'provisioning_state': 'Succeeded', 'etag': 'W/"33c799f4-1dd4-4af9-93d3-2f5fc259d092"'}[0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/default', 'name': 'default', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B7B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B7D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BA50>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B0D0>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BC90>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BED0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BA10>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B150>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BC30>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BAD0>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x0697BD90>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x053F64F0>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x063743F0>], 'subnets': [<azure.mgmt.network.v2018_12_01.models.subnet_py3.Subnet object at 0x063743B0>], 'resource_guid': '8b5e04b3-49e1-4ca8-aac9-f4402c4c0bfc', 'provisioning_state': 'Succeeded', 'etag': 'W/"007a81cc-10f7-41a8-b15a-6d1005394dc9"'}[0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/wrong', 'name': 'wrong', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06374E30>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06374350>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x06374790>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063741F0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C950>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0699C630>], 'network_interfaces': None, 'subnets': None, 'resource_guid': 'f658a0f8-368a-4237-ada8-84ceeb08ae4c', 'provisioning_state': 'Succeeded', 'etag': 'W/"70129c06-da4d-4490-8558-5dc355df49f7"'}[0m
default
flask
Test_Sec_Group
{
    "0": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-19 02:45:25.901634",
            "kind": "secgroup",
            "modified": "2019-12-19 02:45:25.901634",
            "name": "default"
        },
        "description": "Default security group",
        "name": "default",
        "rules": [
            "ssh",
            "icmp",
            "http",
            "https"
        ]
    },
    "1": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-19 02:45:25.905625",
            "kind": "secgroup",
            "modified": "2019-12-19 02:45:25.905625",
            "name": "flask"
        },
        "description": "Flask security group",
        "name": "flask",
        "rules": [
            "ssh",
            "icmp",
            "http",
            "https",
            "flask"
        ]
    },
    "2": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-18 21:45:29.670405",
            "kind": "secgroup",
            "modified": "2019-12-18 21:45:29.670405",
            "name": "Test_Sec_Group"
        },
        "description": null,
        "name": "Test_Sec_Group",
        "rules": []
    }
}
PASSED
cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py::Test_secgroup_provider::test_secgroups_delete_again
[35m
# ######################################################################
# test_secgroups_delete_again \cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py 131
# ######################################################################
[0m
[34mINFO: Security group Test_Sec_Group deleted from Az![0m
[34mINFO: Local security groups: [0m
[34mINFO: {'description': 'Default security group', 'rules': ['ssh', 'icmp', 'http', 'https'], 'name': 'default', 'cm': {'kind': 'secgroup', 'name': 'default', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:45:25.901634', 'modified': '2019-12-19 02:45:25.901634'}}[0m
[34mINFO: {'description': 'Flask security group', 'rules': ['ssh', 'icmp', 'http', 'https', 'flask'], 'name': 'flask', 'cm': {'kind': 'secgroup', 'name': 'flask', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-19 02:45:25.905625', 'modified': '2019-12-19 02:45:25.905625'}}[0m
[34mINFO: {'description': None, 'rules': [], 'name': 'Test_Sec_Group', 'cm': {'kind': 'secgroup', 'name': 'Test_Sec_Group', 'cloud': 'local', 'collection': 'local-secgroup', 'created': '2019-12-18 21:45:29.670405', 'modified': '2019-12-18 21:45:29.670405'}}[0m
[34mINFO: Az security groups: [0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/azure-vm-test-nsg', 'name': 'azure-vm-test-nsg', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069AA910>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069AA930>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069AA950>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069AA970>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069AA990>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069AA9B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x069AA9F0>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x069AAA30>], 'subnets': None, 'resource_guid': '5feda48d-d020-4961-95b8-fab0cb761ed7', 'provisioning_state': 'Succeeded', 'etag': 'W/"33c799f4-1dd4-4af9-93d3-2f5fc259d092"'}[0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/default', 'name': 'default', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B7B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B710>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B1B0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B7D0>], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BD70>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BE70>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B1D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B050>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BED0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B150>], 'network_interfaces': [<azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x0697BC10>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x0697B930>, <azure.mgmt.network.v2018_12_01.models.network_interface_py3.NetworkInterface object at 0x0697BE10>], 'subnets': [<azure.mgmt.network.v2018_12_01.models.subnet_py3.Subnet object at 0x0697BD90>], 'resource_guid': '8b5e04b3-49e1-4ca8-aac9-f4402c4c0bfc', 'provisioning_state': 'Succeeded', 'etag': 'W/"007a81cc-10f7-41a8-b15a-6d1005394dc9"'}[0m
[34mINFO: {'additional_properties': {}, 'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/networkSecurityGroups/wrong', 'name': 'wrong', 'type': 'Microsoft.Network/networkSecurityGroups', 'location': 'eastus', 'tags': None, 'security_rules': [], 'default_security_rules': [<azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B910>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B5D0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BCF0>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697B030>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x0697BF30>, <azure.mgmt.network.v2018_12_01.models.security_rule_py3.SecurityRule object at 0x063743F0>], 'network_interfaces': None, 'subnets': None, 'resource_guid': 'f658a0f8-368a-4237-ada8-84ceeb08ae4c', 'provisioning_state': 'Succeeded', 'etag': 'W/"70129c06-da4d-4490-8558-5dc355df49f7"'}[0m
default
flask
Test_Sec_Group
{
    "0": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-19 02:45:25.901634",
            "kind": "secgroup",
            "modified": "2019-12-19 02:45:25.901634",
            "name": "default"
        },
        "description": "Default security group",
        "name": "default",
        "rules": [
            "ssh",
            "icmp",
            "http",
            "https"
        ]
    },
    "1": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-19 02:45:25.905625",
            "kind": "secgroup",
            "modified": "2019-12-19 02:45:25.905625",
            "name": "flask"
        },
        "description": "Flask security group",
        "name": "flask",
        "rules": [
            "ssh",
            "icmp",
            "http",
            "https",
            "flask"
        ]
    },
    "2": {
        "cm": {
            "cloud": "local",
            "collection": "local-secgroup",
            "created": "2019-12-18 21:45:29.670405",
            "kind": "secgroup",
            "modified": "2019-12-18 21:45:29.670405",
            "name": "Test_Sec_Group"
        },
        "description": null,
        "name": "Test_Sec_Group",
        "rules": []
    }
}
PASSED
cloudmesh-cloud\tests\cloud\test_07_secgroup_provider.py::Test_secgroup_provider::test_benchmark
+-------------------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| timer                                                 | time   | start               | tag   | node        | user | system  | mac_version | win_version                     |
+-------------------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| test_07_secgroup_provider/test_load                   | 0.581  | 2019-12-19 02:45:25 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_07_secgroup_provider/test_list_variables         | 0.019  | 2019-12-19 02:45:26 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_07_secgroup_provider/test_list_secgroups         | 0.767  | 2019-12-19 02:45:27 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_07_secgroup_provider/test_list_secgroups_rules   | 1.261  | 2019-12-19 02:45:27 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_07_secgroup_provider/test_secgroups_add          | 0.99   | 2019-12-19 02:45:29 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_07_secgroup_provider/test_upload_secgroup        | 6.016  | 2019-12-19 02:45:31 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_07_secgroup_provider/test_secgroups_delete       | 10.834 | 2019-12-19 02:45:37 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_07_secgroup_provider/test_secgroups_delete_again | 0.268  | 2019-12-19 02:45:49 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| benchmark_start_stop                                  | 0.0    | 2019-12-19 02:45:50 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
+-------------------------------------------------------+--------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+

csv,timer,time,starttag,node,user,system,mac_version,win_version
#csv,test_07_secgroup_provider/test_load,0.581,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_07_secgroup_provider/test_list_variables,0.019,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_07_secgroup_provider/test_list_secgroups,0.767,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_07_secgroup_provider/test_list_secgroups_rules,1.261,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_07_secgroup_provider/test_secgroups_add,0.99,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_07_secgroup_provider/test_upload_secgroup,6.016,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_07_secgroup_provider/test_secgroups_delete,10.834,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_07_secgroup_provider/test_secgroups_delete_again,0.268,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,benchmark_start_stop,0.0,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')

PASSED

============================================================================ warnings summary =============================================================================
tests/cloud/test_07_secgroup_provider.py::Test_secgroup_provider::test_list_secgroups
tests/cloud/test_07_secgroup_provider.py::Test_secgroup_provider::test_list_secgroups_rules
tests/cloud/test_07_secgroup_provider.py::Test_secgroup_provider::test_secgroups_add
tests/cloud/test_07_secgroup_provider.py::Test_secgroup_provider::test_secgroups_add
tests/cloud/test_07_secgroup_provider.py::Test_secgroup_provider::test_upload_secgroup
tests/cloud/test_07_secgroup_provider.py::Test_secgroup_provider::test_upload_secgroup
tests/cloud/test_07_secgroup_provider.py::Test_secgroup_provider::test_secgroups_delete
tests/cloud/test_07_secgroup_provider.py::Test_secgroup_provider::test_secgroups_delete_again
  C:\Users\M\cm\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:673: DeprecationWarning: count is deprecated. Use Collection.count_documents instead.
    if local_sec_group.count() == 0:

-- Docs: https://docs.pytest.org/en/latest/warnings.html
===================================================================== 9 passed, 8 warnings in 33.34s ======================================================================





=========================================================================== test session starts ===========================================================================
platform win32 -- Python 3.7.4, pytest-5.2.4, py-1.8.0, pluggy-0.13.0 -- c:\users\m\env3\scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\M\cm\cloudmesh-cloud, inifile: pytest.ini
collecting ... [34m
# ----------------------------------------------------------------------
# variables.dict()
# ----------------------------------------------------------------------
# 26:<module> .\cloudmesh-cloud\tests\cloud\test_08_vm_provider.py
# ----------------------------------------------------------------------
# {'a.b': 'c',
#  'cloud': 'azure',
#  'cluster': 'clustera',
#  'debug': 'True',
#  'experiment': 'base',
#  'group': 'cloudmesh',
#  'key': 'marshad-key',
#  'refresh': 'False',
#  'timer': 'False',
#  'trace': 'True',
#  'verbose': '10',
#  'vm': 'marshad-vm-[8-11]'}
# ----------------------------------------------------------------------
[0m
Test run for azure
[34m
# ----------------------------------------------------------------------
# cre
# ----------------------------------------------------------------------
# 226:__init__ .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# {'AZURE_APPLICATION_ID': '********',
#  'AZURE_APPLICATION_ID2': 'TBD',
#  'AZURE_REGION': 'eastus',
#  'AZURE_SECRET_KEY': '*****',
#  'AZURE_SECRET_KEY2': 'TBD',
#  'AZURE_SUBSCRIPTION_ID': '********',
#  'AZURE_SUBSCRIPTION_ID2': 'TBD',
#  'AZURE_TENANT_ID': '********',
#  'AZURE_TENANT_ID2': 'TBD'}
# ----------------------------------------------------------------------
[0m
collected 10 items

cloudmesh-cloud\tests\cloud\test_08_vm_provider.py::Test_provider_vm::test_provider_vm_create
[35m
# ######################################################################
# test_provider_vm_create \cloudmesh-cloud\tests\cloud\test_08_vm_provider.py 55
# ######################################################################
[0m
[34mINFO: Creating new public IP[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'additional_properties': {},
#   'cm': {'cloud': 'azure',
#          'driver': 'azure',
#          'kind': 'ip',
#          'name': 'azure-vm-test-ip'},
#   'ddos_settings': None,
#   'dns_settings': None,
#   'etag': 'W/"dbf0565b-bed5-4d07-a153-e60601d70f94"',
#   'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/publicIPAddresses/azure-vm-test-ip',
#   'idle_timeout_in_minutes': 4,
#   'ip_address': None,
#   'ip_configuration': <azure.mgmt.network.v2018_12_01.models.ip_configuration_py3.IPConfiguration object at 0x05CF7F30>,
#   'ip_tags': [],
#   'location': 'eastus',
#   'name': 'azure-vm-test-ip',
#   'provisioning_state': 'Succeeded',
#   'public_ip_address_version': 'IPv4',
#   'public_ip_allocation_method': 'Dynamic',
#   'public_ip_prefix': None,
#   'resource_guid': 'e65c5761-d852-4110-be7f-e1bddc9b2322',
#   'sku': <azure.mgmt.network.v2018_12_01.models.public_ip_address_sku_py3.PublicIPAddressSku object at 0x05CF7E90>,
#   'tags': None,
#   'type': 'Microsoft.Network/publicIPAddresses',
#   'zones': None}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'additional_properties': {},
#   'cm': {'cloud': 'azure',
#          'driver': 'azure',
#          'kind': 'ip',
#          'name': 'azure-vm-test-ip'},
#   'ddos_settings': None,
#   'dns_settings': None,
#   'etag': 'W/"dbf0565b-bed5-4d07-a153-e60601d70f94"',
#   'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/publicIPAddresses/azure-vm-test-ip',
#   'idle_timeout_in_minutes': 4,
#   'ip_address': None,
#   'ip_configuration': <azure.mgmt.network.v2018_12_01.models.ip_configuration_py3.IPConfiguration object at 0x05CF7F30>,
#   'ip_tags': [],
#   'location': 'eastus',
#   'name': 'azure-vm-test-ip',
#   'provisioning_state': 'Succeeded',
#   'public_ip_address_version': 'IPv4',
#   'public_ip_allocation_method': 'Dynamic',
#   'public_ip_prefix': None,
#   'resource_guid': 'e65c5761-d852-4110-be7f-e1bddc9b2322',
#   'sku': <azure.mgmt.network.v2018_12_01.models.public_ip_address_sku_py3.PublicIPAddressSku object at 0x05CF7E90>,
#   'tags': None,
#   'type': 'Microsoft.Network/publicIPAddresses',
#   'zones': None},
#  {'additional_properties': {},
#   'cm': {'cloud': 'azure',
#          'driver': 'azure',
#          'kind': 'ip',
#          'name': 'cloudmeshVM-pub-ip_1'},
#   'ddos_settings': None,
#   'dns_settings': None,
#   'etag': 'W/"8a7e8f30-c42e-48fa-96a2-e7771984e390"',
#   'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/publicIPAddresses/cloudmeshVM-pub-ip_1',
#   'idle_timeout_in_minutes': 4,
#   'ip_address': None,
#   'ip_configuration': <azure.mgmt.network.v2018_12_01.models.ip_configuration_py3.IPConfiguration object at 0x05CF7FF0>,
#   'ip_tags': [],
#   'location': 'eastus',
#   'name': 'cloudmeshVM-pub-ip_1',
#   'provisioning_state': 'Succeeded',
#   'public_ip_address_version': 'IPv4',
#   'public_ip_allocation_method': 'Dynamic',
#   'public_ip_prefix': None,
#   'resource_guid': 'f40c4c2a-102c-46bd-ab31-a84474480dff',
#   'sku': <azure.mgmt.network.v2018_12_01.models.public_ip_address_sku_py3.PublicIPAddressSku object at 0x05CF7C30>,
#   'tags': None,
#   'type': 'Microsoft.Network/publicIPAddresses',
#   'zones': None}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'additional_properties': {},
#   'cm': {'cloud': 'azure',
#          'driver': 'azure',
#          'kind': 'ip',
#          'name': 'azure-vm-test-ip'},
#   'ddos_settings': None,
#   'dns_settings': None,
#   'etag': 'W/"dbf0565b-bed5-4d07-a153-e60601d70f94"',
#   'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/publicIPAddresses/azure-vm-test-ip',
#   'idle_timeout_in_minutes': 4,
#   'ip_address': None,
#   'ip_configuration': <azure.mgmt.network.v2018_12_01.models.ip_configuration_py3.IPConfiguration object at 0x05CF7F30>,
#   'ip_tags': [],
#   'location': 'eastus',
#   'name': 'azure-vm-test-ip',
#   'provisioning_state': 'Succeeded',
#   'public_ip_address_version': 'IPv4',
#   'public_ip_allocation_method': 'Dynamic',
#   'public_ip_prefix': None,
#   'resource_guid': 'e65c5761-d852-4110-be7f-e1bddc9b2322',
#   'sku': <azure.mgmt.network.v2018_12_01.models.public_ip_address_sku_py3.PublicIPAddressSku object at 0x05CF7E90>,
#   'tags': None,
#   'type': 'Microsoft.Network/publicIPAddresses',
#   'zones': None},
#  {'additional_properties': {},
#   'cm': {'cloud': 'azure',
#          'driver': 'azure',
#          'kind': 'ip',
#          'name': 'cloudmeshVM-pub-ip_1'},
#   'ddos_settings': None,
#   'dns_settings': None,
#   'etag': 'W/"8a7e8f30-c42e-48fa-96a2-e7771984e390"',
#   'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/publicIPAddresses/cloudmeshVM-pub-ip_1',
#   'idle_timeout_in_minutes': 4,
#   'ip_address': None,
#   'ip_configuration': <azure.mgmt.network.v2018_12_01.models.ip_configuration_py3.IPConfiguration object at 0x05CF7FF0>,
#   'ip_tags': [],
#   'location': 'eastus',
#   'name': 'cloudmeshVM-pub-ip_1',
#   'provisioning_state': 'Succeeded',
#   'public_ip_address_version': 'IPv4',
#   'public_ip_allocation_method': 'Dynamic',
#   'public_ip_prefix': None,
#   'resource_guid': 'f40c4c2a-102c-46bd-ab31-a84474480dff',
#   'sku': <azure.mgmt.network.v2018_12_01.models.public_ip_address_sku_py3.PublicIPAddressSku object at 0x05CF7C30>,
#   'tags': None,
#   'type': 'Microsoft.Network/publicIPAddresses',
#   'zones': None},
#  {'additional_properties': {},
#   'cm': {'cloud': 'azure',
#          'driver': 'azure',
#          'kind': 'ip',
#          'name': 'cloudmeshVM-pub-ip_2'},
#   'ddos_settings': None,
#   'dns_settings': None,
#   'etag': 'W/"dfd4244c-5127-473e-9649-7aae763d0dd2"',
#   'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/publicIPAddresses/cloudmeshVM-pub-ip_2',
#   'idle_timeout_in_minutes': 4,
#   'ip_address': None,
#   'ip_configuration': <azure.mgmt.network.v2018_12_01.models.ip_configuration_py3.IPConfiguration object at 0x05CF7F90>,
#   'ip_tags': [],
#   'location': 'eastus',
#   'name': 'cloudmeshVM-pub-ip_2',
#   'provisioning_state': 'Succeeded',
#   'public_ip_address_version': 'IPv4',
#   'public_ip_allocation_method': 'Dynamic',
#   'public_ip_prefix': None,
#   'resource_guid': '6d2856d9-98f2-4cd2-8efd-fff71290ebc4',
#   'sku': <azure.mgmt.network.v2018_12_01.models.public_ip_address_sku_py3.PublicIPAddressSku object at 0x05CF7FB0>,
#   'tags': None,
#   'type': 'Microsoft.Network/publicIPAddresses',
#   'zones': None}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'additional_properties': {},
#   'cm': {'cloud': 'azure',
#          'driver': 'azure',
#          'kind': 'ip',
#          'name': 'azure-vm-test-ip'},
#   'ddos_settings': None,
#   'dns_settings': None,
#   'etag': 'W/"dbf0565b-bed5-4d07-a153-e60601d70f94"',
#   'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/publicIPAddresses/azure-vm-test-ip',
#   'idle_timeout_in_minutes': 4,
#   'ip_address': None,
#   'ip_configuration': <azure.mgmt.network.v2018_12_01.models.ip_configuration_py3.IPConfiguration object at 0x05CF7F30>,
#   'ip_tags': [],
#   'location': 'eastus',
#   'name': 'azure-vm-test-ip',
#   'provisioning_state': 'Succeeded',
#   'public_ip_address_version': 'IPv4',
#   'public_ip_allocation_method': 'Dynamic',
#   'public_ip_prefix': None,
#   'resource_guid': 'e65c5761-d852-4110-be7f-e1bddc9b2322',
#   'sku': <azure.mgmt.network.v2018_12_01.models.public_ip_address_sku_py3.PublicIPAddressSku object at 0x05CF7E90>,
#   'tags': None,
#   'type': 'Microsoft.Network/publicIPAddresses',
#   'zones': None},
#  {'additional_properties': {},
#   'cm': {'cloud': 'azure',
#          'driver': 'azure',
#          'kind': 'ip',
#          'name': 'cloudmeshVM-pub-ip_1'},
#   'ddos_settings': None,
#   'dns_settings': None,
#   'etag': 'W/"8a7e8f30-c42e-48fa-96a2-e7771984e390"',
#   'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/publicIPAddresses/cloudmeshVM-pub-ip_1',
#   'idle_timeout_in_minutes': 4,
#   'ip_address': None,
#   'ip_configuration': <azure.mgmt.network.v2018_12_01.models.ip_configuration_py3.IPConfiguration object at 0x05CF7FF0>,
#   'ip_tags': [],
#   'location': 'eastus',
#   'name': 'cloudmeshVM-pub-ip_1',
#   'provisioning_state': 'Succeeded',
#   'public_ip_address_version': 'IPv4',
#   'public_ip_allocation_method': 'Dynamic',
#   'public_ip_prefix': None,
#   'resource_guid': 'f40c4c2a-102c-46bd-ab31-a84474480dff',
#   'sku': <azure.mgmt.network.v2018_12_01.models.public_ip_address_sku_py3.PublicIPAddressSku object at 0x05CF7C30>,
#   'tags': None,
#   'type': 'Microsoft.Network/publicIPAddresses',
#   'zones': None},
#  {'additional_properties': {},
#   'cm': {'cloud': 'azure',
#          'driver': 'azure',
#          'kind': 'ip',
#          'name': 'cloudmeshVM-pub-ip_2'},
#   'ddos_settings': None,
#   'dns_settings': None,
#   'etag': 'W/"dfd4244c-5127-473e-9649-7aae763d0dd2"',
#   'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/publicIPAddresses/cloudmeshVM-pub-ip_2',
#   'idle_timeout_in_minutes': 4,
#   'ip_address': None,
#   'ip_configuration': <azure.mgmt.network.v2018_12_01.models.ip_configuration_py3.IPConfiguration object at 0x05CF7F90>,
#   'ip_tags': [],
#   'location': 'eastus',
#   'name': 'cloudmeshVM-pub-ip_2',
#   'provisioning_state': 'Succeeded',
#   'public_ip_address_version': 'IPv4',
#   'public_ip_allocation_method': 'Dynamic',
#   'public_ip_prefix': None,
#   'resource_guid': '6d2856d9-98f2-4cd2-8efd-fff71290ebc4',
#   'sku': <azure.mgmt.network.v2018_12_01.models.public_ip_address_sku_py3.PublicIPAddressSku object at 0x05CF7FB0>,
#   'tags': None,
#   'type': 'Microsoft.Network/publicIPAddresses',
#   'zones': None},
#  {'additional_properties': {},
#   'cm': {'cloud': 'azure',
#          'driver': 'azure',
#          'kind': 'ip',
#          'name': 'cloudmeshVM-pub-ip_3'},
#   'ddos_settings': None,
#   'dns_settings': None,
#   'etag': 'W/"0eeab330-c0fc-43a8-bb1b-5ac300d747b3"',
#   'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/publicIPAddresses/cloudmeshVM-pub-ip_3',
#   'idle_timeout_in_minutes': 4,
#   'ip_address': '168.62.42.92',
#   'ip_configuration': <azure.mgmt.network.v2018_12_01.models.ip_configuration_py3.IPConfiguration object at 0x05D18050>,
#   'ip_tags': [],
#   'location': 'eastus',
#   'name': 'cloudmeshVM-pub-ip_3',
#   'provisioning_state': 'Succeeded',
#   'public_ip_address_version': 'IPv4',
#   'public_ip_allocation_method': 'Dynamic',
#   'public_ip_prefix': None,
#   'resource_guid': '83b7878c-1026-447d-853b-02bc448b0250',
#   'sku': <azure.mgmt.network.v2018_12_01.models.public_ip_address_sku_py3.PublicIPAddressSku object at 0x05D18030>,
#   'tags': None,
#   'type': 'Microsoft.Network/publicIPAddresses',
#   'zones': None}]
# ----------------------------------------------------------------------
[0m
[34m
# ----------------------------------------------------------------------
# d
# ----------------------------------------------------------------------
# 1608:update_dict .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# [{'additional_properties': {},
#   'cm': {'cloud': 'azure',
#          'driver': 'azure',
#          'kind': 'ip',
#          'name': 'cloudmeshVM-pub-ip_4'},
#   'ddos_settings': None,
#   'dns_settings': None,
#   'etag': 'W/"8e1eefb5-f630-4c6d-a8e7-c86a9308ffeb"',
#   'id': '/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Network/publicIPAddresses/cloudmeshVM-pub-ip_4',
#   'idle_timeout_in_minutes': 4,
#   'ip_address': None,
#   'ip_configuration': None,
#   'ip_tags': [],
#   'location': 'eastus',
#   'name': 'cloudmeshVM-pub-ip_4',
#   'provisioning_state': 'Succeeded',
#   'public_ip_address_version': 'IPv4',
#   'public_ip_allocation_method': 'Dynamic',
#   'public_ip_prefix': None,
#   'resource_guid': '8577e91d-4280-4c45-9738-95fca9c3401b',
#   'sku': <azure.mgmt.network.v2018_12_01.models.public_ip_address_sku_py3.PublicIPAddressSku object at 0x05D1DCF0>,
#   'tags': None,
#   'type': 'Microsoft.Network/publicIPAddresses',
#   'zones': None}]
# ----------------------------------------------------------------------
[0m
[34mINFO: secgroup default exists![0m
[34m
# ----------------------------------------------------------------------
# 'Create Vnet'
# ----------------------------------------------------------------------
# 1170:_create_az_nic .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'Create Vnet'
# ----------------------------------------------------------------------
[0m
[34mINFO: vnet exists![0m
[34m
# ----------------------------------------------------------------------
# 'Create Subnet'
# ----------------------------------------------------------------------
# 1174:_create_az_nic .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'Create Subnet'
# ----------------------------------------------------------------------
[0m
[34mINFO: subnet exists![0m
[34m
# ----------------------------------------------------------------------
# 'Create NIC'
# ----------------------------------------------------------------------
# 1178:_create_az_nic .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'Create NIC'
# ----------------------------------------------------------------------
[0m
[34mINFO: NIC created: cloudmesh-nic_4[0m
FAILED
cloudmesh-cloud\tests\cloud\test_08_vm_provider.py::Test_provider_vm::test_provider_vmprovider_vm_list
[35m
# ######################################################################
# test_provider_vmprovider_vm_list \cloudmesh-cloud\tests\cloud\test_08_vm_provider.py 75
# ######################################################################
[0m
[35mWARNING: no local vm found for azure-vm-test[0m
FAILED
cloudmesh-cloud\tests\cloud\test_08_vm_provider.py::Test_provider_vm::test_provider_vm_wait
[35m
# ######################################################################
# test_provider_vm_wait \cloudmesh-cloud\tests\cloud\test_08_vm_provider.py 83
# ######################################################################
[0m
[35mWARNING: no local vm found for azure-vm-test[0m
FAILED
cloudmesh-cloud\tests\cloud\test_08_vm_provider.py::Test_provider_vm::test_provider_vm_ssh
[35m
# ######################################################################
# test_provider_vm_ssh \cloudmesh-cloud\tests\cloud\test_08_vm_provider.py 92
# ######################################################################
[0m
FAILED
cloudmesh-cloud\tests\cloud\test_08_vm_provider.py::Test_provider_vm::test_provider_vm_info
[35m
# ######################################################################
# test_provider_vm_info \cloudmesh-cloud\tests\cloud\test_08_vm_provider.py 106
# ######################################################################
[0m
FAILED
cloudmesh-cloud\tests\cloud\test_08_vm_provider.py::Test_provider_vm::test_vm_status
[35m
# ######################################################################
# test_vm_status \cloudmesh-cloud\tests\cloud\test_08_vm_provider.py 115
# ######################################################################
[0m
FAILED
cloudmesh-cloud\tests\cloud\test_08_vm_provider.py::Test_provider_vm::test_provider_vm_stop
[35m
# ######################################################################
# test_provider_vm_stop \cloudmesh-cloud\tests\cloud\test_08_vm_provider.py 131
# ######################################################################
[0m
[34m
# ----------------------------------------------------------------------
# " ".join('Stopping Azure VM')
# ----------------------------------------------------------------------
# 1266:stop .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'S t o p p i n g   A z u r e   V M'
# ----------------------------------------------------------------------
[0m
FAILED
cloudmesh-cloud\tests\cloud\test_08_vm_provider.py::Test_provider_vm::test_provider_vm_start
[35m
# ######################################################################
# test_provider_vm_start \cloudmesh-cloud\tests\cloud\test_08_vm_provider.py 149
# ######################################################################
[0m
[34m
# ----------------------------------------------------------------------
# " ".join('Starting Azure VM')
# ----------------------------------------------------------------------
# 1225:start .\cloudmesh-cloud\cloudmesh\compute\azure\Provider.py
# ----------------------------------------------------------------------
# 'S t a r t i n g   A z u r e   V M'
# ----------------------------------------------------------------------
[0m
FAILED
cloudmesh-cloud\tests\cloud\test_08_vm_provider.py::Test_provider_vm::test_provider_vm_terminate
[35m
# ######################################################################
# test_provider_vm_terminate \cloudmesh-cloud\tests\cloud\test_08_vm_provider.py 171
# ######################################################################
[0m
[35mWARNING: no local vm found for azure-vm-test[0m
FAILED
cloudmesh-cloud\tests\cloud\test_08_vm_provider.py::Test_provider_vm::test_benchmark
+------------------------------------------------------+------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| timer                                                | time | start               | tag   | node        | user | system  | mac_version | win_version                     |
+------------------------------------------------------+------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| test_08_vm_provider/test_provider_vm_create          |      | 2019-12-19 02:48:30 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| create vm test-marshad-vm-2                          |      | 2019-12-19 02:48:31 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_08_vm_provider/test_provider_vmprovider_vm_list |      | 2019-12-19 02:49:10 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_08_vm_provider/test_provider_vm_wait            |      | 2019-12-19 02:49:11 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_08_vm_provider/test_provider_vm_ssh             |      | 2019-12-19 02:49:13 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_08_vm_provider/test_provider_vm_info            |      | 2019-12-19 02:49:14 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_08_vm_provider/test_vm_status                   |      | 2019-12-19 02:49:14 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_08_vm_provider/test_provider_vm_stop            |      | 2019-12-19 02:49:15 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_08_vm_provider/test_provider_vm_start           |      | 2019-12-19 02:49:15 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_08_vm_provider/test_provider_vm_terminate       |      | 2019-12-19 02:49:16 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| benchmark_start_stop                                 | 0.0  | 2019-12-19 02:49:16 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
+------------------------------------------------------+------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+

csv,timer,time,starttag,node,user,system,mac_version,win_version
#csv,test_08_vm_provider/test_provider_vm_create,None,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,create vm test-marshad-vm-2,None,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_08_vm_provider/test_provider_vmprovider_vm_list,None,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_08_vm_provider/test_provider_vm_wait,None,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_08_vm_provider/test_provider_vm_ssh,None,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_08_vm_provider/test_provider_vm_info,None,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_08_vm_provider/test_vm_status,None,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_08_vm_provider/test_provider_vm_stop,None,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_08_vm_provider/test_provider_vm_start,None,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_08_vm_provider/test_provider_vm_terminate,None,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,benchmark_start_stop,0.0,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')

PASSED

================================================================================ FAILURES =================================================================================
________________________________________________________________ Test_provider_vm.test_provider_vm_create _________________________________________________________________

self = <test_08_vm_provider.Test_provider_vm object at 0x05A1EC70>

    def test_provider_vm_create(self):
        HEADING()
        name_generator.incr()
        Benchmark.Start()
>       data = provider.create(key=key)

cloudmesh-cloud\tests\cloud\test_08_vm_provider.py:59:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
cloudmesh-cloud\cloudmesh\mongo\DataBaseDecorator.py:87: in wrapper
    current = f(*args, **kwargs)
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:216: in create
    created = self.loop(self._create, **arguments)
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:112: in loop
    vm = func(**parameters)
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:251: in _create
    data = self.p.create(**arguments)
cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:982: in create
    flavor)
cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:1074: in _create_vm_parameters
    str(self._get_local_key_content(key)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <cloudmesh.compute.azure.Provider.Provider object at 0x0479D890>, key_name = 'marshad-key'

    def _get_local_key_content(self, key_name):
        query = {'name': key_name}

        key = list(self.cmDatabase.collection('local-key').find(query))

        if len(key) == 0:
>           raise ValueError(f'Unable to find key: {key_name}')
E           ValueError: Unable to find key: marshad-key

cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:1043: ValueError
____________________________________________________________ Test_provider_vm.test_provider_vmprovider_vm_list ____________________________________________________________

self = <test_08_vm_provider.Test_provider_vm object at 0x06658410>

    def test_provider_vmprovider_vm_list(self):
        # list should be after create() since it would return empty and
        # len(data) would be 0
        HEADING()
        Benchmark.Start()
>       data = provider.list()

cloudmesh-cloud\tests\cloud\test_08_vm_provider.py:78:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
cloudmesh-cloud\cloudmesh\mongo\DataBaseDecorator.py:87: in wrapper
    current = f(*args, **kwargs)
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:129: in list
    return self.p.list(**kwargs)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <cloudmesh.compute.azure.Provider.Provider object at 0x0479D890>

    def list(self):
        """
        List all Azure Virtual Machines from my Account
        :return: dict or libcloud object
        """
        az_servers = []

        for vm in self.vms.list(self.GROUP_NAME):
            v = vm.as_dict()
            local_vm = self._get_local_vm(v['name'], quiet=True)

            if local_vm is None:
                Console.warning("no local vm found for " + v['name'])

>           v.update(local_vm)
E           TypeError: 'NoneType' object is not iterable

cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:1346: TypeError
_________________________________________________________________ Test_provider_vm.test_provider_vm_wait __________________________________________________________________

self = <test_08_vm_provider.Test_provider_vm object at 0x05A50150>

    def test_provider_vm_wait(self):
        HEADING()
        name = str(Name())
        Benchmark.Start()
        cm = CmDatabase()
        vm = cm.find_name(name, kind="vm")[0]
>       assert provider.wait(vm=vm), "cms wait timed out ..."

cloudmesh-cloud\tests\cloud\test_08_vm_provider.py:89:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:452: in wait
    return self.p.wait(vm=vm, interval=interval, timeout=timeout)
cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:1616: in wait
    return self.list()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <cloudmesh.compute.azure.Provider.Provider object at 0x0479D890>

    def list(self):
        """
        List all Azure Virtual Machines from my Account
        :return: dict or libcloud object
        """
        az_servers = []

        for vm in self.vms.list(self.GROUP_NAME):
            v = vm.as_dict()
            local_vm = self._get_local_vm(v['name'], quiet=True)

            if local_vm is None:
                Console.warning("no local vm found for " + v['name'])

>           v.update(local_vm)
E           TypeError: 'NoneType' object is not iterable

cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:1346: TypeError
__________________________________________________________________ Test_provider_vm.test_provider_vm_ssh __________________________________________________________________

self = <test_08_vm_provider.Test_provider_vm object at 0x066E77F0>

    def test_provider_vm_ssh(self):
        HEADING()
        name = str(Name())
        Benchmark.Start()
        cm = CmDatabase()
        vm = cm.find_name(name, kind="vm")[0]
>       data = provider.ssh(vm=vm, command='\"echo IAmAlive\"')

cloudmesh-cloud\tests\cloud\test_08_vm_provider.py:98:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:446: in ssh
    return self.p.ssh(vm=vm, command=command)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <cloudmesh.compute.azure.Provider.Provider object at 0x0479D890>
vm = {'_id': ObjectId('5dfae5006c13f0b071874ef0'), 'cm': {'cloud': 'azure', 'collection': 'azure-vm', 'created': '2019-12-19 02:48:32.501298', 'group': 'cloudmesh', ...}, 'name': 'test-marshad-vm-2'}
command = '"echo IAmAlive"'

    def ssh(self, vm=None, command=None):
        if vm is None or command is None:
            raise Exception(f"vm or command can not be null")

        if isinstance(vm, dict):
            vm_obj = vm
        else:
            vm_obj = self._get_local_vm(vm)

>       nic_id = vm_obj['network_profile']['network_interfaces'][0]['id']
E       KeyError: 'network_profile'

cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:505: KeyError
_________________________________________________________________ Test_provider_vm.test_provider_vm_info __________________________________________________________________

self = <test_08_vm_provider.Test_provider_vm object at 0x05D34570>

    def test_provider_vm_info(self):
        # This is just a dry run, status test actually uses info() in all
        # provider
        HEADING()
        Benchmark.Start()
        name = str(Name())
>       data = provider.info(name=name)

cloudmesh-cloud\tests\cloud\test_08_vm_provider.py:110:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:302: in info
    return self.loop_name(name, self.p.info)
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:94: in loop_name
    vm = func(name=name)
cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:1318: in info
    node = self.vms.get(group, name, expand='instanceView')
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <azure.mgmt.compute.v2019_03_01.operations.virtual_machines_operations.VirtualMachinesOperations object at 0x04E42030>, resource_group_name = 'cloudmesh'
vm_name = 'test-marshad-vm-2', expand = 'instanceView', custom_headers = None, raw = False, operation_config = {}
url = 'https://management.azure.com/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Compute/virtualMachines/test-marshad-vm-2'
path_format_arguments = {'resourceGroupName': 'cloudmesh', 'subscriptionId': '*****', 'vmName': 'test-marshad-vm-2'}
query_parameters = {'$expand': 'instanceView', 'api-version': '2019-03-01'}
header_parameters = {'Accept': 'application/json', 'accept-language': 'en-US', 'x-ms-client-request-id': '246364ec-220a-11ea-b217-acd1b8bf52c2'}
request = <ClientRequest [GET]>, response = <Response [404]>
exp = CloudError("The Resource 'Microsoft.Compute/virtualMachines/test-marshad-vm-2' under resource group 'cloudmesh' was not found.")

    def get(
            self, resource_group_name, vm_name, expand=None, custom_headers=None, raw=False, **operation_config):
        """Retrieves information about the model view or the instance view of a
        virtual machine.

        :param resource_group_name: The name of the resource group.
        :type resource_group_name: str
        :param vm_name: The name of the virtual machine.
        :type vm_name: str
        :param expand: The expand expression to apply on the operation.
         Possible values include: 'instanceView'
        :type expand: str or
         ~azure.mgmt.compute.v2019_03_01.models.InstanceViewTypes
        :param dict custom_headers: headers that will be added to the request
        :param bool raw: returns the direct response alongside the
         deserialized response
        :param operation_config: :ref:`Operation configuration
         overrides<msrest:optionsforoperations>`.
        :return: VirtualMachine or ClientRawResponse if raw=true
        :rtype: ~azure.mgmt.compute.v2019_03_01.models.VirtualMachine or
         ~msrest.pipeline.ClientRawResponse
        :raises: :class:`CloudError<msrestazure.azure_exceptions.CloudError>`
        """
        # Construct URL
        url = self.get.metadata['url']
        path_format_arguments = {
            'resourceGroupName': self._serialize.url("resource_group_name", resource_group_name, 'str'),
            'vmName': self._serialize.url("vm_name", vm_name, 'str'),
            'subscriptionId': self._serialize.url("self.config.subscription_id", self.config.subscription_id, 'str')
        }
        url = self._client.format_url(url, **path_format_arguments)

        # Construct parameters
        query_parameters = {}
        if expand is not None:
            query_parameters['$expand'] = self._serialize.query("expand", expand, 'InstanceViewTypes')
        query_parameters['api-version'] = self._serialize.query("self.api_version", self.api_version, 'str')

        # Construct headers
        header_parameters = {}
        header_parameters['Accept'] = 'application/json'
        if self.config.generate_client_request_id:
            header_parameters['x-ms-client-request-id'] = str(uuid.uuid1())
        if custom_headers:
            header_parameters.update(custom_headers)
        if self.config.accept_language is not None:
            header_parameters['accept-language'] = self._serialize.header("self.config.accept_language", self.config.accept_language, 'str')

        # Construct and send request
        request = self._client.get(url, query_parameters, header_parameters)
        response = self._client.send(request, stream=False, **operation_config)

        if response.status_code not in [200]:
            exp = CloudError(response)
            exp.request_id = response.headers.get('x-ms-request-id')
>           raise exp
E           msrestazure.azure_exceptions.CloudError: Azure Error: ResourceNotFound
E           Message: The Resource 'Microsoft.Compute/virtualMachines/test-marshad-vm-2' under resource group 'cloudmesh' was not found.

..\env3\lib\site-packages\azure\mgmt\compute\v2019_03_01\operations\virtual_machines_operations.py:557: CloudError
_____________________________________________________________________ Test_provider_vm.test_vm_status _____________________________________________________________________

self = <test_08_vm_provider.Test_provider_vm object at 0x06721850>

    def test_vm_status(self):
        HEADING()
        name = str(Name())
        Benchmark.Start()
>       data = provider.status(name=name)

cloudmesh-cloud\tests\cloud\test_08_vm_provider.py:119:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:310: in status
    r = self.info(name=name)
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:302: in info
    return self.loop_name(name, self.p.info)
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:94: in loop_name
    vm = func(name=name)
cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:1318: in info
    node = self.vms.get(group, name, expand='instanceView')
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <azure.mgmt.compute.v2019_03_01.operations.virtual_machines_operations.VirtualMachinesOperations object at 0x04E42030>, resource_group_name = 'cloudmesh'
vm_name = 'test-marshad-vm-2', expand = 'instanceView', custom_headers = None, raw = False, operation_config = {}
url = 'https://management.azure.com/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Compute/virtualMachines/test-marshad-vm-2'
path_format_arguments = {'resourceGroupName': 'cloudmesh', 'subscriptionId': '*****', 'vmName': 'test-marshad-vm-2'}
query_parameters = {'$expand': 'instanceView', 'api-version': '2019-03-01'}
header_parameters = {'Accept': 'application/json', 'accept-language': 'en-US', 'x-ms-client-request-id': '24a4b3b6-220a-11ea-b8de-acd1b8bf52c2'}
request = <ClientRequest [GET]>, response = <Response [404]>
exp = CloudError("The Resource 'Microsoft.Compute/virtualMachines/test-marshad-vm-2' under resource group 'cloudmesh' was not found.")

    def get(
            self, resource_group_name, vm_name, expand=None, custom_headers=None, raw=False, **operation_config):
        """Retrieves information about the model view or the instance view of a
        virtual machine.

        :param resource_group_name: The name of the resource group.
        :type resource_group_name: str
        :param vm_name: The name of the virtual machine.
        :type vm_name: str
        :param expand: The expand expression to apply on the operation.
         Possible values include: 'instanceView'
        :type expand: str or
         ~azure.mgmt.compute.v2019_03_01.models.InstanceViewTypes
        :param dict custom_headers: headers that will be added to the request
        :param bool raw: returns the direct response alongside the
         deserialized response
        :param operation_config: :ref:`Operation configuration
         overrides<msrest:optionsforoperations>`.
        :return: VirtualMachine or ClientRawResponse if raw=true
        :rtype: ~azure.mgmt.compute.v2019_03_01.models.VirtualMachine or
         ~msrest.pipeline.ClientRawResponse
        :raises: :class:`CloudError<msrestazure.azure_exceptions.CloudError>`
        """
        # Construct URL
        url = self.get.metadata['url']
        path_format_arguments = {
            'resourceGroupName': self._serialize.url("resource_group_name", resource_group_name, 'str'),
            'vmName': self._serialize.url("vm_name", vm_name, 'str'),
            'subscriptionId': self._serialize.url("self.config.subscription_id", self.config.subscription_id, 'str')
        }
        url = self._client.format_url(url, **path_format_arguments)

        # Construct parameters
        query_parameters = {}
        if expand is not None:
            query_parameters['$expand'] = self._serialize.query("expand", expand, 'InstanceViewTypes')
        query_parameters['api-version'] = self._serialize.query("self.api_version", self.api_version, 'str')

        # Construct headers
        header_parameters = {}
        header_parameters['Accept'] = 'application/json'
        if self.config.generate_client_request_id:
            header_parameters['x-ms-client-request-id'] = str(uuid.uuid1())
        if custom_headers:
            header_parameters.update(custom_headers)
        if self.config.accept_language is not None:
            header_parameters['accept-language'] = self._serialize.header("self.config.accept_language", self.config.accept_language, 'str')

        # Construct and send request
        request = self._client.get(url, query_parameters, header_parameters)
        response = self._client.send(request, stream=False, **operation_config)

        if response.status_code not in [200]:
            exp = CloudError(response)
            exp.request_id = response.headers.get('x-ms-request-id')
>           raise exp
E           msrestazure.azure_exceptions.CloudError: Azure Error: ResourceNotFound
E           Message: The Resource 'Microsoft.Compute/virtualMachines/test-marshad-vm-2' under resource group 'cloudmesh' was not found.

..\env3\lib\site-packages\azure\mgmt\compute\v2019_03_01\operations\virtual_machines_operations.py:557: CloudError
_________________________________________________________________ Test_provider_vm.test_provider_vm_stop __________________________________________________________________

self = <test_08_vm_provider.Test_provider_vm object at 0x05D1D050>

    def test_provider_vm_stop(self):
        HEADING()
        name = str(Name())
        Benchmark.Start()
>       data = provider.stop(name=name)

cloudmesh-cloud\tests\cloud\test_08_vm_provider.py:135:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
cloudmesh-cloud\cloudmesh\mongo\DataBaseDecorator.py:87: in wrapper
    current = f(*args, **kwargs)
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:292: in stop
    return self.loop_name(name, self.p.stop)
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:94: in loop_name
    vm = func(name=name)
cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:1267: in stop
    async_vm_stop = self.vms.power_off(group, name)
..\env3\lib\site-packages\azure\mgmt\compute\v2019_03_01\operations\virtual_machines_operations.py:1127: in power_off
    **operation_config
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <azure.mgmt.compute.v2019_03_01.operations.virtual_machines_operations.VirtualMachinesOperations object at 0x04E42030>, resource_group_name = 'cloudmesh'
vm_name = 'test-marshad-vm-2', skip_shutdown = False, custom_headers = None, raw = True, operation_config = {}
url = 'https://management.azure.com/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Compute/virtualMachines/test-marshad-vm-2/powerOff'
path_format_arguments = {'resourceGroupName': 'cloudmesh', 'subscriptionId': '*****', 'vmName': 'test-marshad-vm-2'}
query_parameters = {'api-version': '2019-03-01', 'skipShutdown': 'false'}
header_parameters = {'accept-language': 'en-US', 'x-ms-client-request-id': '24df823a-220a-11ea-8e9c-acd1b8bf52c2'}, request = <ClientRequest [POST]>
response = <Response [404]>, exp = CloudError("The Resource 'Microsoft.Compute/virtualMachines/test-marshad-vm-2' under resource group 'cloudmesh' was not found.")

    def _power_off_initial(
            self, resource_group_name, vm_name, skip_shutdown=False, custom_headers=None, raw=False, **operation_config):
        # Construct URL
        url = self.power_off.metadata['url']
        path_format_arguments = {
            'resourceGroupName': self._serialize.url("resource_group_name", resource_group_name, 'str'),
            'vmName': self._serialize.url("vm_name", vm_name, 'str'),
            'subscriptionId': self._serialize.url("self.config.subscription_id", self.config.subscription_id, 'str')
        }
        url = self._client.format_url(url, **path_format_arguments)

        # Construct parameters
        query_parameters = {}
        if skip_shutdown is not None:
            query_parameters['skipShutdown'] = self._serialize.query("skip_shutdown", skip_shutdown, 'bool')
        query_parameters['api-version'] = self._serialize.query("self.api_version", self.api_version, 'str')

        # Construct headers
        header_parameters = {}
        if self.config.generate_client_request_id:
            header_parameters['x-ms-client-request-id'] = str(uuid.uuid1())
        if custom_headers:
            header_parameters.update(custom_headers)
        if self.config.accept_language is not None:
            header_parameters['accept-language'] = self._serialize.header("self.config.accept_language", self.config.accept_language, 'str')

        # Construct and send request
        request = self._client.post(url, query_parameters, header_parameters)
        response = self._client.send(request, stream=False, **operation_config)

        if response.status_code not in [200, 202]:
            exp = CloudError(response)
            exp.request_id = response.headers.get('x-ms-request-id')
>           raise exp
E           msrestazure.azure_exceptions.CloudError: Azure Error: ResourceNotFound
E           Message: The Resource 'Microsoft.Compute/virtualMachines/test-marshad-vm-2' under resource group 'cloudmesh' was not found.

..\env3\lib\site-packages\azure\mgmt\compute\v2019_03_01\operations\virtual_machines_operations.py:1089: CloudError
_________________________________________________________________ Test_provider_vm.test_provider_vm_start _________________________________________________________________

self = <test_08_vm_provider.Test_provider_vm object at 0x066B2650>

    def test_provider_vm_start(self):
        HEADING()
        name = str(Name())
        Benchmark.Start()
>       data = provider.start(name=name)

cloudmesh-cloud\tests\cloud\test_08_vm_provider.py:153:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
cloudmesh-cloud\cloudmesh\mongo\DataBaseDecorator.py:87: in wrapper
    current = f(*args, **kwargs)
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:297: in start
    return self.loop_name(name, self.p.start)
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:94: in loop_name
    vm = func(name=name)
cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:1226: in start
    async_vm_start = self.vms.start(group, name)
..\env3\lib\site-packages\azure\mgmt\compute\v2019_03_01\operations\virtual_machines_operations.py:1285: in start
    **operation_config
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <azure.mgmt.compute.v2019_03_01.operations.virtual_machines_operations.VirtualMachinesOperations object at 0x04E42030>, resource_group_name = 'cloudmesh'
vm_name = 'test-marshad-vm-2', custom_headers = None, raw = True, operation_config = {}
url = 'https://management.azure.com/subscriptions/*****/resourceGroups/cloudmesh/providers/Microsoft.Compute/virtualMachines/test-marshad-vm-2/start'
path_format_arguments = {'resourceGroupName': 'cloudmesh', 'subscriptionId': '*****', 'vmName': 'test-marshad-vm-2'}
query_parameters = {'api-version': '2019-03-01'}, header_parameters = {'accept-language': 'en-US', 'x-ms-client-request-id': '251fc35e-220a-11ea-bc22-acd1b8bf52c2'}
request = <ClientRequest [POST]>, response = <Response [404]>
exp = CloudError("The Resource 'Microsoft.Compute/virtualMachines/test-marshad-vm-2' under resource group 'cloudmesh' was not found.")

    def _start_initial(
            self, resource_group_name, vm_name, custom_headers=None, raw=False, **operation_config):
        # Construct URL
        url = self.start.metadata['url']
        path_format_arguments = {
            'resourceGroupName': self._serialize.url("resource_group_name", resource_group_name, 'str'),
            'vmName': self._serialize.url("vm_name", vm_name, 'str'),
            'subscriptionId': self._serialize.url("self.config.subscription_id", self.config.subscription_id, 'str')
        }
        url = self._client.format_url(url, **path_format_arguments)

        # Construct parameters
        query_parameters = {}
        query_parameters['api-version'] = self._serialize.query("self.api_version", self.api_version, 'str')

        # Construct headers
        header_parameters = {}
        if self.config.generate_client_request_id:
            header_parameters['x-ms-client-request-id'] = str(uuid.uuid1())
        if custom_headers:
            header_parameters.update(custom_headers)
        if self.config.accept_language is not None:
            header_parameters['accept-language'] = self._serialize.header("self.config.accept_language", self.config.accept_language, 'str')

        # Construct and send request
        request = self._client.post(url, query_parameters, header_parameters)
        response = self._client.send(request, stream=False, **operation_config)

        if response.status_code not in [200, 202]:
            exp = CloudError(response)
            exp.request_id = response.headers.get('x-ms-request-id')
>           raise exp
E           msrestazure.azure_exceptions.CloudError: Azure Error: ResourceNotFound
E           Message: The Resource 'Microsoft.Compute/virtualMachines/test-marshad-vm-2' under resource group 'cloudmesh' was not found.

..\env3\lib\site-packages\azure\mgmt\compute\v2019_03_01\operations\virtual_machines_operations.py:1255: CloudError
_______________________________________________________________ Test_provider_vm.test_provider_vm_terminate _______________________________________________________________

self = <test_08_vm_provider.Test_provider_vm object at 0x06A4CE30>

    def test_provider_vm_terminate(self):
        HEADING()
        name = str(Name())
        Benchmark.Start()
>       data = provider.destroy(name=name)

cloudmesh-cloud\tests\cloud\test_08_vm_provider.py:175:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
cloudmesh-cloud\cloudmesh\compute\vm\Provider.py:469: in destroy
    return self.p.destroy(name=name)
cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:1360: in destroy
    vms = filter(lambda x: x['name'] == name, self.list())
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <cloudmesh.compute.azure.Provider.Provider object at 0x0479D890>

    def list(self):
        """
        List all Azure Virtual Machines from my Account
        :return: dict or libcloud object
        """
        az_servers = []

        for vm in self.vms.list(self.GROUP_NAME):
            v = vm.as_dict()
            local_vm = self._get_local_vm(v['name'], quiet=True)

            if local_vm is None:
                Console.warning("no local vm found for " + v['name'])

>           v.update(local_vm)
E           TypeError: 'NoneType' object is not iterable

cloudmesh-cloud\cloudmesh\compute\azure\Provider.py:1346: TypeError
====================================================================== 9 failed, 1 passed in 54.03s =======================================================================

=========================================================================== test session starts ===========================================================================
platform win32 -- Python 3.7.4, pytest-5.2.4, py-1.8.0, pluggy-0.13.0 -- c:\users\m\env3\scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\M\cm\cloudmesh-cloud, inifile: pytest.ini
collected 13 items

cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_cm_find_collection
[35m
# ######################################################################
# test_cm_find_collection \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 33
# ######################################################################
[0m
Number of entries [vm] 1
PASSED
cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_cm_find_loop
[35m
# ######################################################################
# test_cm_find_loop \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 44
# ######################################################################
[0m
Number of entries [flavor 262
PASSED
cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_cm_loop
[35m
# ######################################################################
# test_cm_loop \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 60
# ######################################################################
[0m
Number of entries [flavor] 262
PASSED
cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_cm_image_name_cloud
[35m
# ######################################################################
# test_cm_image_name_cloud \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 73
# ######################################################################
[0m
Number of entries [image 7
PASSED
cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_cm_image_name_collection
[35m
# ######################################################################
# test_cm_image_name_collection \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 85
# ######################################################################
[0m
Number of entries [image 7
PASSED
cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_names_regexp
[35m
# ######################################################################
# test_names_regexp \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 96
# ######################################################################
[0m
Number of entries [image 0
PASSED
cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_cm_find_vms
[35m
# ######################################################################
# test_cm_find_vms \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 117
# ######################################################################
[0m
Number of entries [vm 1
PASSED
cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_cm_find_ubuntu_in_images
[35m
# ######################################################################
# test_cm_find_ubuntu_in_images \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 128
# ######################################################################
[0m

{'name': {'$regex': '.*Ubuntu.*'}}
Number of entries [image 0
FAILED
cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_cm_find_cloud_name_attributes
[35m
# ######################################################################
# test_cm_find_cloud_name_attributes \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 167
# ######################################################################
[0m

Number of entries [vm 1
PASSED
cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_cm_find_vm_collections
[35m
# ######################################################################
# test_cm_find_vm_collections \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 183
# ######################################################################
[0m
Number of entries [collections] 6
PASSED
cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_cm_find_vm_collections_vm
[35m
# ######################################################################
# test_cm_find_vm_collections_vm \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 196
# ######################################################################
[0m
Number of entries [collections] 1
PASSED
cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_cm_find_vm_collection_form_parameter
[35m
# ######################################################################
# test_cm_find_vm_collection_form_parameter \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 208
# ######################################################################
[0m
Number of entries [collections] 2
PASSED
cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py::Test_cm_find::test_benchmark
[35m
# ######################################################################
# test_benchmark \cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py 223
# ######################################################################
[0m

+-----------------------------------------------------------------+-------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| timer                                                           | time  | start               | tag   | node        | user | system  | mac_version | win_version                     |
+-----------------------------------------------------------------+-------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+
| test_09_cm_names_find/test_cm_find_collection                   | 1.12  | 2019-12-19 03:04:25 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_09_cm_names_find/test_cm_find_loop                         | 1.514 | 2019-12-19 03:04:26 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_09_cm_names_find/test_cm_image_name_cloud                  | 0.528 | 2019-12-19 03:04:29 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_09_cm_names_find/test_cm_image_name_collection             | 0.512 | 2019-12-19 03:04:29 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_09_cm_names_find/test_names_regexp                         | 0.989 | 2019-12-19 03:04:30 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_09_cm_names_find/test_cm_find_vms                          | 0.53  | 2019-12-19 03:04:31 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_09_cm_names_find/test_cm_find_ubuntu_in_images             | 0.47  | 2019-12-19 03:04:31 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_09_cm_names_find/test_cm_find_cloud_name_attributes        | 0.497 | 2019-12-19 03:04:32 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_09_cm_names_find/test_cm_find_vm_collections               | 0.471 | 2019-12-19 03:04:33 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_09_cm_names_find/test_cm_find_vm_collections_vm            | 0.513 | 2019-12-19 03:04:33 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| test_09_cm_names_find/test_cm_find_vm_collection_form_parameter | 0.477 | 2019-12-19 03:04:34 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
| benchmark_start_stop                                            | 0.0   | 2019-12-19 03:04:34 | azure | ('ONYX64',) |      | Windows |             | ('10', '10.0.18362', 'SP0', '') |
+-----------------------------------------------------------------+-------+---------------------+-------+-------------+------+---------+-------------+---------------------------------+

csv,timer,time,starttag,node,user,system,mac_version,win_version
#csv,test_09_cm_names_find/test_cm_find_collection,1.12,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_09_cm_names_find/test_cm_find_loop,1.514,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_09_cm_names_find/test_cm_image_name_cloud,0.528,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_09_cm_names_find/test_cm_image_name_collection,0.512,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_09_cm_names_find/test_names_regexp,0.989,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_09_cm_names_find/test_cm_find_vms,0.53,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_09_cm_names_find/test_cm_find_ubuntu_in_images,0.47,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_09_cm_names_find/test_cm_find_cloud_name_attributes,0.497,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_09_cm_names_find/test_cm_find_vm_collections,0.471,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_09_cm_names_find/test_cm_find_vm_collections_vm,0.513,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,test_09_cm_names_find/test_cm_find_vm_collection_form_parameter,0.477,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')
#csv,benchmark_start_stop,0.0,None,('ONYX64',),,Windows,,('10', '10.0.18362', 'SP0', '')

PASSED

================================================================================ FAILURES =================================================================================
_______________________________________________________________ Test_cm_find.test_cm_find_ubuntu_in_images ________________________________________________________________

self = <test_09_cm_names_find.Test_cm_find object at 0x04B1DB10>

    def test_cm_find_ubuntu_in_images(self):
        HEADING()
        print()
        query = {"name": {'$regex': ".*Ubuntu.*"}}
        print(query)

        Benchmark.Start()
        entries = cm.find(collection=f"{cloud}-image", query=query)
        Benchmark.Stop()

        kind = "image"
        if benchmark_print:
            print(entries)
            for entry in entries:
                print(entry['name'])
        else:
            print(f"Number of entries [{kind}", len(entries))

>       assert len(entries) > 0
E       assert 0 > 0
E        +  where 0 = len([])

cloudmesh-cloud\tests\cloud\test_09_cm_names_find.py:146: AssertionError
====================================================================== 1 failed, 12 passed in 11.19s ======================================================================
